2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note): Decrease max to 35 so NVT name always fits
	on a single line.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note-detailed): Put the "Last modified" line
	after the button float, so that Konqueror keeps the buttons inside the
	box.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Check the more specific
	option in most constraints instead of the general option.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Replace "All" with "Any".
	(note) [details]: Capitalise "any".

2010-02-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl (html-report-details): Prevent unnecessary
	wrapping.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (wrap): Handle the case of a single line that must
	wrap.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_get): Use fixed max_results values for notes.

	* src/html/src/omp.xsl (html-create-note-form): Remove max_results
	passthrough.
	(note-detailed, result-detailed): Remove max_results from requests.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (new_note_omp): Check all args.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_nvt_details): Only add notes table when there
	are notes.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add delete buttons on all note lists.

	* src/gsad.c (exec_omp_get): Call delete_note_omp according to page that
	must follow.

	* src/gsad_omp.c (get_nvt_details, get_status, get_note): New function.
	Bodies from _omp versions.
	(get_nvt_details_omp, get_status_omp, get_notes_omp): Call through to
	static functions.
	(delete_note_omp): Add more passthrough args, and next page arg.  Pass
	work to handler of next page.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/src/omp.xsl (html-report-table): Pass next page to note
	template.
	(get_nvt_details_response): Remove.
	(get_nvt_details): New template.
	(note): Add next param.  Enable button.
	(note) [nvt-details]: Enable button.
	(get_notes): Expect entites in a commands_response.
	(note-detailed): Add next page to request.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_nvt_details_omp, get_status_omp, get_notes_omp): Add
	GET_NOTES sort fields.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Refer to anchor in query.
	(note-detailed): Refer to anchor in delete_note query.
	(result-detailed): Add anchor.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result-detailed): Add notes button.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note-detailed): Add details button.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_status_omp): Request notes with task.

	* src/html/src/omp.xsl (html-report-table): Add notes window.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Extend the "port" rule to allow ports like
	"port-name (111/tcp)".

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details, report, task)
	(html-create-note-form, note-detailed, result-detailed): Pass the "notes"
	flag when requesting a report.  Preserve the notes flag across new_note
	and delete_note.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Test filters/notes directly
	instead of counting it.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-family-table): Count in
	get_nvt_details_response instead of all/get_nvt_details_response, in
	view case.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (.note_top_line): New style.

	* src/html/src/omp.xsl (note) [details]: Put note text in yellow box.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add a note details page.

	* src/gsad_omp.c (get_note_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/gsad.c (init_validator): Add get_note command.
	(exec_omp_get): Add get_note command handling.

	* src/html/src/omp.xsl (note): Enable details button.
	(note) [nvt-details]: Enable details button.
	(note) [details]: New template.
	(get_note): New template.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_nvt_details_omp): Also request notes for the NVT.

	* src/html/src/omp.xsl (get_notes_response): New template.
	(get_nvt_details_response): Add notes section.
	(note, html-notes-table): Replace OID column with text column.
	(note) [nvt-details]: New template.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add notes management page.

	* src/gsad_omp.c (get_notes_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/gsad.c (init_validator): Add get_notes command.
	(exec_omp_get): Add get_notes command handling.

	* src/html/src/omp.xsl (note, html-notes-table, get_notes): New templates.

	* src/html/header.m4, src/html/src/gsad.xsl: Add "Notes" menu item.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add note filtering in reports.

	* src/html/src/omp.xsl (html-report-details): Add "Show notes" checkbox.

	* src/gsad.c (init_validator): Add "notes" validator.
	(struct req_parms): Add notes.
	(free_resources): Add param freeing.
	(serve_post): Pass notes arg to create_note_omp.
	(exec_omp_get): Pass notes arg to report related functions.

	* src/gsad_omp.c (get_report_omp, new_note_omp, create_note_omp)
	(delete_note_omp) Add notes arg.

	* src/gsad_omp.h: Update headers accordingly.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Put result on "New Note" page.

	* src/html/src/omp.xsl (html-create-note-form): Add "Associated Result"
	section.
	(html-result-box): Remove.
	(new_note): Remove call to html-result-box.
	(note, result) [detailed]: Add template name.  Add note-buttons param to
	control display of note buttons.

	* src/gsad_omp.c (new_note_omp): Include result in response.

2010-02-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/img/new_note.png, src/html/src/img/delete_note.png,
	src/html/src/img/note.png: New files.

	* src/html/src/omp.xsl (note, result) [detailed]: Use new note images.

	* ChangeLog: Correct omp.xsl paths.

2010-02-16  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Fixed a typo regarding refresh
	intervals. When selecting 60 seconds, the GUI applied 60
	but showed 30.

2010-02-15  Matthew Mundell <matthew.mundell@intevation.de>

	Add note constraints.

	* src/gsad.c (init_validator): Add "port", "result_id" and "threat"
	validators.
	(struct req_parms): Add params.
	(free_resources): Add param freeing.
	(serve_post): Pass contraint args to create_note_omp.
	(exec_omp_get): Pass contraint args to new_note_omp.

	* src/gsad_omp.c (new_note_omp): Add constraint args.
	(create_note_omp): Add constraint args.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-create-note-form): Add contraint input.
	(new_note): Pass contraint values to new_note.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	Add adding of notes.

	* src/gsad.c (init_validator): Add create_note and new_note commands.
	Add "max_results" and "text" validators.
	(struct req_parms): Add params.
	(free_resources): Add param freeing.
	(append_chunk_string): New function.
	(serve_post): Add create_note handling.
	(exec_omp_get): Pass get_report params to delete_note_omp.  Add new_note
	handling.

	* src/gsad_omp.c (new_note_omp, create_note_omp): New function.
	(delete_note_omp): Add get_report params.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-create-note-form, html-result-box, new_note)
	(create_note_response): New templates.
	(note) [detailed]: Wrap note text.  Pass get_report params to delete_note.
	(result) [detailed]: Add "new note" button.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	Add removal of notes.

	* src/gsad.c (init_validator): Add delete_note command.  Add "note_id"
	validator.
	(exec_omp_get): Handle command "delete_note".

	* src/gsad_omp.c (delete_note_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/html/src/omp.xsl (delete_note_response): New template.
	(note) [detailed]: Add delete button.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note) [detailed]: New template.
	(result) [detailed]: Apply any notes.

	* src/html/src/gsa-style.css (.issue_box_box): Zero margin-bottom.
	(.note_box_box): New style.

	* src/gsad_omp.c (get_report_omp): Request notes.

2010-02-10  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (escalator) [details]: Remove greying of method
	background.

2010-02-08  Tim Brown <timb@openvas.org>

	* src/gsad.c: Fixed couple of leaks reported by cppcheck.

2010-02-05  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (wrap): Lower wrap column to 90.

2010-02-05  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-02-05  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta4 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-02-04  Matthew Mundell <matthew.mundell@intevation.de>

	Wrap lines of result descriptions during the XSL transform.

	* src/html/src/omp.xsl (wrap): New template.
	(result) [detailed]: Add PRE around description.  Filter description
	through wrap template.

	* src/html/src/gsa-style.css (.issue_box_box): Remove white-space and
	font-family.

2010-02-04  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl: Reconciled value of of increment with max value
	in exec_omp_get in gsad.c to repair pagination.

2010-02-03  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result) [detailed]: Remove PRE from description.

	* src/html/src/gsa-style.css (.issue_box_box): Add line wrapping, space
	preservation and PRE like font.

2010-02-01  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (lsc_credential) [details]: Remove colon from
	heading.

2010-02-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Made file entries have same length
	as text entries.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_status_response): Correct substring args.
	(html-create-lsc-credential-form): Add empty values to some empty inputs.

	* src/html/src/gsad.xsl (html-gsa-logo): Add image title.

	* src/gsad_oap.c (save_user_oap): Correct comment.
	(get_feed_oap): Correct message texts.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (describe_feed_response): Check for failure.
	(html-feed-form): Add details if sync in progress.  Correct button
	greying test.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* ChangeLog: Format last entry better.

2010-01-28  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_oap.c (create_user_oap, save_user_oap, delete_user_oap)
	(edit_user_oap, get_user_oapt_users_oap, get_feed_oap, sync_feed_oap)
	(get_settings_oap, edit_settings_oap, save_settings_oap): Use new
	library read_string function to access only the string of gnutls
	session.

	* src/gsad_omp (check_modify_config, gsad_newtask, get_status_omp)
	(create_lsc_credential_omp, get_lsc_credential_omp, create_agent_omp)
	(delete_agent_omp, create_escalator_omp, delete_escalator_omp)
	(get_escalator_omp, get_escalators_xml, test_escalator_omp)
	(create_target_omp, delete_target_omp, get_target_omp, get_targets_omp)
	(create_config_omp, import_config_omp, get_config_family_omp)
	(get_config_nvt_omp, get_report_omp, get_system_reports_omp): Use new
	library read_string function to access only the string of gnutls
	session.

2010-01-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (send_redirect_header)
	(create_http_authenticate_response): Add Expires and Cache-Control
	headers.
	(file_content_response): Use MHD defines for header names.

2010-01-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (file_content_response): Indent args.  Downcase @todos.
	Move fopen return check for default_file into block that does fopen.
	Add Expires and Cache-Control headers if path matches default_file.

2010-01-28  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (request_handler): Simplified conditional.

2010-01-27  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-01-27  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta3 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* README: Updated.

2010-01-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add option to run in chroot.  Most of work by Felix Wolfsteller.

	* src/gsad.c (file_content_response): Make file path relative.
	(drop_privileges): New function.
	(main): Add option --do-chroot.  Change into the state directory
	before starting the HTTP daemon, so that all paths can be relative.
	If --do-chroot is given, chroot into the state dir and drop
	privileges.  Move PID file creation to come before the chroot.

	* src/gsad_base.c (XSL_PATH): Make relative.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (request_handler): Collapse two conditionals with
	identical body.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Basic input checking when serving files. Set content type for images.

	* src/gsad_base.h: Added new content type (text/css).

	* src/gsad.c (gsad_add_content_type_header): Added new text/css
	content type.
	(file_content_response): Set content type and disposition, check url
	parameter to not contain "..".
	(request_handler): Pass content type and disposition to
	file_content_response.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (create_http_authenticate_response): New, extracted from
	(send_http_authenticate_header).
	(file_content_response): New, extracted from request_handler
	(request_handler): Call extracted function, use http_response code
	variable to store the response code instead of immediate sending
	responses.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c: Added TODOs.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Set content-type header for error pages.

	* src/gsad.c (send_response): Add content type header to response.
	(send_redirect_header, send_http_authenticate_header): Use
	libmicrohttpd macros.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Further removal of global variables, closing mem leaks.

	* src/gsad.c: Removed global variable content_disposition and
	response_size.
	(exec_omp_get): Added new parameter.
	(request_handler): Added local variables as replacements for the global
	ones, pass as new parameter to functions.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Switched from using dynamic strings as http header content-type field
	to static strings, resolving a mem leak and possible contention issues.
	Set the content-type header field for more responses, minor consistency
	improvements of response-building.

	* src/gsad_base.h: Introduced new enum "content_type".

	* src/gsad.c: Removed global content_type variable.
	(content_type_from_format_string): New function.
	(exec_omp_get): Added content type return parameter instead of
	modification of global variable from within function, updated call to
	export_config_omp.
	(gsad_add_content_type_header): New function to add content type
	header to responses.
	(request_handler): Adjusted doc, added TODO about weird
	function/comment, use new content_type, minor refactoring of response-
	building code blocks.
	(main): Adjusted comment, moved pointers to certificate and key into
	single block where they are used.

	* src/gsad_omp.c (delete_lsc_crendential_omp)
	(get_lsc_crendential_omp, save_config_family_omp, save_config_nvt_omp):
	Repaired doc.
	(export_config_omp, get_system_reports_omp, get_system_report_omp): Use
	new content_type.

	* src/gsad_omp.h: Adjusted protos.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* CMakeLists.txt: Added files to ignore for source packaging.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Preparing the gsa 1.0.0-beta2 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Add options --alisten and --mlisten.

	* src/gsad_omp.c (manager_address): New variable.
	(omp_init): Add address argument.
	(is_omp_authenticated, manager_connect): Pass address to
	openvas_server_open.

	* src/gsad_omp.h: Update header accordingly.

	* src/gsad_oap.c (administrator_address): New variable.
	(oap_init): Add address argument.
	(administrator_connect): Pass address to openvas_server_open.

	* src/gsad_oap.h: Update header accordingly.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (gsad_address): New variable.
	(main): Add --listen option.  Pass address to MHD_start_daemon.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Neaten MHD_start_daemon calls.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_targets.htm4: Removed part about
	definition of ip-ranges and noted the cidr-netmask limit.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (serve_post): Own conditional for host parameter
	validation.
	(exec_omp_post): Validate host parameter
	(validate_hosts_parameter): Use gchar and respective function instead
	of char.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (validate_hosts_parameter): New function, checks cidr
	netmasks.
	(serve_post): Call new validation function for hosts parameter.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Add option --http-only.

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (get_report_omp): Do not close the server connection
	a second time in error case.

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (get_report_omp): Just send the xml describing the
	report if xml report is requested.

2010-01-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_report_omp): If the format is XML send the plain
	XML, and if the format is NULL send the XSL transformed XML (that is,
	send the HTML page).

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/help/configure_credentials.htm4,
	src/html/help/configure_targets.htm4,
	src/html/help/configure_users.htm4,
	src/html/help/glossray.htm4: Updated help.

2010-01-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (.gb_window_part_center)
	(.gb_window_part_center_error, .logo_l, .logo_r, .logout_panel): Set
	colours so that text shows up when images are off in the browser.

2010-01-22  Matthew Mundell <matthew.mundell@intevation.de>

	Remain on the task page after deleting the task's last report.

	* src/html/src/omp.xsl (html-report-table): Apply the report
	template explicitly.
	(report): Replace with body of get_status_response/task/report.  Go two
	up to get to the task ID.
	(get_status_response/task/report): Remove.
	(get_status_response): Determine if the reports are present by checking
	for task/reports instead of a task/report.
	(commands_response/get_status_response): Remove, redundant.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (redirect_pid): New variable.
	(gsad_cleanup): Kill redirect child in parent.
	(main): Set redirect_pid in parent.  Set SIGCHLD to SIG_IGN.  Remove
	pidfile creation from redirect child.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user) [edit]: Switch the modify_password values.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user): Account for "custom" access rules.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user) [edit]: Make the Host Access radios match
	the user's rights.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_post): Revert create_target hosts validator to
	"hosts".

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Make all alt's "Details" for details buttons.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	Add user details page and editing of user details.

	* src/gsad.c (init_validator): Add "edit_user", "get_user" and "save_user"
	commands.  Add rule "modify_password".
	(struct req_parms): Add modify_password.
	(free_resources, serve_post): Add modify_password handling.
	(exec_omp_post): Add save_user command.
	(exec_omp_get): Add edit_user and get_user commands.

	* src/gsad_oap.c (save_user_oap, edit_user_oap, get_user_oap): New
	functions.

	* src/gsad_oap.h: Add headers accordingly.

	* src/html/src/oap.xsl (html-create-user-form): Order options
	alphabetically, and force selection of "User".
	(user): Add details and edit buttons.
	(user) [details] [edit]: New templates.
	(edit_user, get_user): New templates.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add user host access to user list.  Make "Allow All" possible when
	creating a user.

	* src/gsad.c (init_validator): Add "access_hosts" rule.  Add 2 to
	"hosts_allow".
	(struct req_parms): Add access_hosts.
	(free_resources, serve_post): Add access_hosts handling.
	(exec_omp_post): Pass access_hosts instead of hosts to create_user_oap.

	* src/gsad_oap.c (create_user_oap): Leave out HOSTS if hosts_allow is 2.

	* src/html/src/oap.xsl (html-create-user-form): Make "Host Access"
	mandatory, with a "Allow All" radio.
	(html-users-table): Add "Host Access" column.
	(user): Add host access details.

2010-01-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsad.xsl, src/html/src/about.htm4: Extending Copyright
	to 2010.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add setting of user host access.

	* src/gsad.c (init_validator): Add "hosts_allow" rule.
	(struct req_parms): Add hosts_allow.
	(free_resources, serve_post): Add hosts_allow handling.
	(exec_omp_post): Pass hosts and hosts_allow to create_user_oap.

	* src/gsad_oap.c (create_user_oap): Add HOSTS to CREATE_USER according to
	new args hosts and hosts_allow.

	* src/gsad_oap.h: Update header accordingly.

	* src/html/src/oap.xsl (html-create-user-form): Add "Host Access" input.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_post): Make create_user "name" a "login".

	* src/html/src/oap.xsl (html-create-user-form): Relabel "Name" as
	"Login Name", and make the input name "login".

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add \ to credential_login characters.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user): Grey delete button for current user.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add \ to lsc_password characters.

2010-01-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (scanner_settings): Only enable edit button if
	settings are editable.

2010-01-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_status_response)
	(commands_response/get_status_response): Add error check.

	* src/html/src/oap.xsl (get_settings_response): Indent by 2 like rest.

2010-01-14  Matthew Mundell <matthew.mundell@intevation.de>

	Add editing of scanner settings.

	* src/gsad.c (init_validator): Add commands "edit_settings" and
	"save_settings".
	(exec_omp_post): Add command "save_settings".
	(exec_omp_get): Add command "edit_settings".

	* src/gsad_oap.c (edit_settings_oap, save_settings_oap): New functions.

	* src/gsad_oap.h: Add headers accordingly.

	* src/html/src/oap.xsl (scanner_settings): Add edit button.
	(scanner_settings, setting, get_settings_response) [edit]: New templates.
	(get_settings, edit_settings): New templates.

2010-01-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/about.htm4: Added supporters with their logos.

	* src/html/src/img/bsi-logo.png, src/html/src/img/gb-logo.png,
	src/html/src/img/intevation-logo.png: New.

2010-01-13  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_oap.c (sync_feed_oap): Add DESCRIBE_FEED to COMMANDS so that
	the sync result comes back on the Feed Management page.

2010-01-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/scanconfig_familiy_details.htm4,
	src/html/scanconfig_editor.htm4,
	src/html/scanconfig_editor_nvt_families.htm4,
	src/html/src/help/scanconfig_details.htm4,
	src/html/src/help/scanconfig_family_details.htm4: Added links to other
	help pages.

	* src/html/src/help/scanconfig_editor_nvt.htm4: New. Accidentally
	ommitted in last commits. Contains help texts regarding
	Scan Config NVT Editor.

2010-01-12  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/contents.htm4: Indention for subgroups.
	Added a link for each separate file.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/scanconfig_familiy_details.htm4: New. Contains
	help texts regarding Family Details Viewing functionality.

	* src/html/src/help/scanconfig_nvt_details.htm4: New. Contains help
	texts regarding NVT and NVT Preference Viewing functionality

	* src/html/src/omp.xsl: Added links to new help pages.

2010-01-12  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

2010-01-12  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta1 release.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

	* CHANGES: New.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Minor help improvements and fixes.

	* src/html/src/help/scanconfig_editor.htm4: Fixed link.

	* src/html/src/help/scanconfig_editor_nvt_families.htm4: Added links
	to glossary.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added help and some fixes.

	* src/html/src/help/scanconfig_editor_nvt_families.htm4: New. Contains
	help texts regarding Scan Config Editors Family Details functionality.

	* src/html/src/help/scanconfig_editor.htm4: Fixed closing tags, added
	note about non-modificatability of scan configs in use.

	* src/html/src/help/scanconfig_details.htm4: Fixed/Added missing quote.

	* src/html/header.m4: Added macros for details and edit icons.

	* src/html/src/omp.xsl: Added link to new help page.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added help.

	* src/html/src/help/scanconfig_editor.htm4: Updated with help
	texts describing the Scan Config Editor functionality.

	* src/html/src/help/scanconfig_details.htm4: Added alt and title
	parameters to icons, corrected heading.

	* src/html/src/omp.xsl: Added link to new help page.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	Add text phrase filtering to report results.

	* src/html/src/gsa-style.css (table.odd): New style.

	* src/gsad.c (init_validator): Add rule "search_phrase".
	(exec_omp_get): Pass search_phrase to get_report_omp.

	* src/gsad_omp.c (get_report_omp): Add argument search_phrase.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-report-details): Add test phrase filter to
	threat filter.  Grey background of both.  Remove threat filter
	"Current View" and rename "New Filter" to "Threat".

	* src/html/src/help/reports.htm4: Try improve some descriptions.  Correct
	typos.  Describe text phrase filtering.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (request_handler): Pass gsize to get_system_report_omp.

2010-01-11  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_escalators.html4,
	src/html/src/help/configure_targets.htm4: Updated with "details"
	section.

	* src/html/src/omp.xsl: Link from pages to new help texts.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result) [detailed]: Add NVT name.

2010-01-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Updating help.

	* src/html/src/help/tasks.htm4: Added section on auto-refresh.

	* src/html/src/help/contents.htm4: Added more link.
	Ordered according to user interface.

	* src/html/src/help/configure_scanconfigs.htm4: Fixed links.

	* src/html/src/help/scanconfig_editor.htm4: New.

	* src/html/src/help/configure_escalators.htm4: Added section
	on test escalator.

2010-01-09  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (small_inline_form): New style.

	* src/html/src/omp.xsl (html-task-table): Neaten indentation.  Put the
	form inside a small_inline_form div.  Remove the font-size and display
	styles from the form and select.
	(html-create-escalator-form): Alternate background colours of rows.
	(create_config_response): Only print details if a config was created and
	there's a config/name in the response.

	* src/html/src/help/reports.htm4: Correct phrase.

2010-01-09  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_system_reports): Add failure message.

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/help/performance.htm4: New file.

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (create_lsc_credential_omp): Add check for password
	validation failure.

	* src/gsad.c (init_validator): Add rule "lsc_password".
	(exec_omp_post): Verify create_lsc_credential_omp password with
	"lsc_password".

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	Add HTTP to HTTPS redirection.

	* src/gsad.c (DEFAULT_GSAD_REDIRECT_PORT, MAX_HOST_LEN): New defines.
	(redirect_location): New variable.
	(redirect_handler): New function.
	(main): Add options --rport and --redirect.  If --redirect is present then
	fork an HTTP server that redirects any request to the HTTPS server.

2010-01-07  Matthew Mundell <matthew.mundell@intevation.de>

	Add performance reports page.

	* src/gsad_omp.c (get_system_reports_omp, get_system_report_omp): New
	function.

	* src/gsad_omp.h: Add headers accordingly.

	* src/gsad.c (init_validator): Add get_system_reports command.  Add rule
	"duration".
	(exec_omp_get): Add get_system_reports command handling.
	(request_handler): Add system report image response.

	* src/html/src/omp.xsl (system_report, get_system_reports): New templates.

	* src/html/header.m4, src/html/src/gsad.xsl: Add "Performance" menu item.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_scanconfigs.htm4: Added help text about
	import and export scan configs, removed text about importing openvasrc.

	* src/html/src/omp.xsl: Link to new help section.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Resolved compile issues on 64bit systems.

	* src/gsad.c (serve_post): Cast size_t to int (.* format expects
	integer).

2010-01-06  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (create_config_response): Pass config name in
	result details.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/omp.xsl: Fixed TODO: pre-select the chosen refresh
	interval in task overview table.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Corrected libopenvas version check.

	* ChangeLog: Corrected date.

2010-01-05  Matthew Mundell <matthew.mundell@intevation.de>

	Add XML config importing.  Remove RC file importing.

	* src/gsad_omp.c (create_config_omp): Remove RC file handling.
	(import_config_omp): New function.
	(export_config_omp): Use GET_CONFIGS export attribute.

	* src/gsad_omp.h: Update headers accordingly.

	* src/gsad.c (init_validator): Add import_config command.  Remove rule
	"rcfile".  Add rule "xml_file".
	(struct req_parms): Remove rcfile.  Add xml_file.
	(free_resources, serve_post, exec_omp_post): Remove rcfile handling.  Add
	xml_file handling.
	(exec_omp_get): Handle command import_config.

	* src/html/src/omp.xsl (html-create-config-form): Remove RC import option.
	(html-import-config-form): New template.
	(get_configs_response): Call html-import-config-form.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added basic auto-refresh functionality for the tasks table.

	* src/gsad.c (init_validator): Added new "number" and refresh_interval
	entries, sorted.
	(exec_omp_post): Pass new parameter to get_status_omp.
	(exec_omp_get): Minor formatting, read passed refresh_interval request
	parameter, validate and pass it to get_status_omp.

	* src/gsad_omp.c (get_nvt_details_omp): Added parameter and pass new
	<autorefresh> element to the xsl transformation.
	(create_lsc_credential_omp): Analogous to get_nvt_details_omp, allocate
	GString only when needed.

	* src/gsad_omp.h (get_nvt_details_omp): Adjusted header.

	* src/html/src/gsad.xsl: Added handling of new <auto_refresh> element.

	* src/html/src/omp.xsl: For the tasks table case, added a form to chose
	the refresh interval. Added TODO about pre-selecting the selected value
	after a refresh happened.

	* src/html/make_html: Removed second newline at end of file.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Corrected version check for libopenvas, required
	version is now 3.0.1.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Added clumsy libopenvas required version check and
	TODO regarding possible improvements.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Lowercased some cmake commands.

2010-01-04  Matthew Mundell <matthew.mundell@intevation.de>

	Add config exporting.

	* src/gsad_omp.c (export_config_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add export_config command.
	(exec_omp_get): Handle command export_config.

	* src/html/src/omp.xsl (config): Add an export button.

2010-01-04  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add email rule.
	(escalator_data): New function.
	(exec_omp_post): Check email addresses.

	* src/html/src/omp.xsl (html-create-escalator-form): Match email length to
	validator.

2009-12-31  Matthew Mundell <matthew.mundell@intevation.de>

	Add test escalator buttons to the escalators page.  Add "From
	Address" to escalator email input.

	* src/gsad_omp.c (get_escalators_xml, test_escalator_omp): New functions.
	(get_escalators_omp): Call get_escalators_xml.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add test_escalator command.
	(exec_omp_get): Handle command test_escalator.

	* src/html/src/omp.xsl (html-create-escalator-form): Add "From
	Address" field.  Rename "Message" to "Format".
	(escalator): Add test button.  Add "To" to before address.
	(test_escalator_response): New template.
	(escalator mode=details): Add from address.
	(get_escalators): Apply test_escalator_response.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help texts.

	* src/html/src/configure_agents.htm4,
	src/html/src/configure_credentials.htm4,
	src/html/src/configure_targets.htm4: Updated.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/omp.xsl: Link help from scanconfig details page.

	* src/html/src/help/scanconfig_details.htm4: New.

	* src/html/src/help/configure_scanconfigs.htm4: Slightly improved, link
	to new help page.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* ChangeLog: Corrected paths.

	* src/html/src/help/configure_escalators.htm4: New.

	* src/html/src/help/configure_scanconfigs.htm4,
	src/html/src/help/glossary.htm4,
	src/html/src/help/new_task.htm4,
	src/html/src/help/tasks.htm4,
	src/html/src/help/view_report.htm4: Updated new and changed options.

2009-12-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/tasks.htm4: Added information to
	status "Stopped".

2009-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_agents.htm4,
	src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_targets.htm4,
	src/html/src/help/configure_users.htm4,
	src/html/src/help/tasks.htm4: Fixed typo.

2009-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Adjusted todo, as check for libmicrohttpd is already
	done.

	* src/CMakeLists.txt: Declared libraries as static.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/help/contents.htm4: Add a "you".

	* src/html/src/help/tasks.htm4: Correct a few typos.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Clean and add some todos and comments.
	(exec_omp_post): Format strcmp like others.
	(free_resources): Remove NULL checks from around frees.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (nvt, get_nvt_details_response): Match to other
	details pages.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	Add a escalator details page.

	* src/gsad_omp.c (get_escalator_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_escalator command.
	(exec_omp_get): Handle command get_escalator.

	* src/html/src/omp.xsl (html-report-table): Link escalator to details.
	(escalator): Add details button.
	(escalator mode=details, get_escalator): New templates.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	Handle the OMP MODIFY_CONFIG "config in use" error with a small error
	dialog instead of a generic big dialog.

	* src/gsad_omp.c (check_modify_config): New function.
	(save_config_omp, save_config_family_omp, save_config_nvt_omp): Call
	check_modify_config instead of check_response to check response.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add a credential details page.

	* src/gsad_omp.c (get_lsc_credential_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_lsc_credential command.
	(exec_omp_get): Handle command get_lsc_credential.

	* src/html/src/omp.xsl (target): Link credential to details.
	(target mode=details): Correct element name.  Link credential to details.
	(lsc_credential): Add details button.
	(lsc_credential mode=details, get_lsc_credential): New templates.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	* ChangeLog: Repair after last commit.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-escalator-form): Add 'Threat level
	at least' condition.
	(escalator): Print level with 'Threat level at least' condition.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add a target details page.

	* src/gsad_omp.c (get_target_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_target command.
	(exec_omp_get): Handle command get_target.

	* src/html/src/omp.xsl (html-report-table): Link target to details.
	(target): Add details button.
	(target mode=details, get_target): New templates.

2009-12-24  Matthew Mundell <matthew.mundell@intevation.de>

	Add Escalators.

	* src/gsad.c (init_validator): Add escalator commands.  Add "condition",
	"escalator", "event" and "method" validators.
	(struct req_parms): Add fields for escalator commands.
	(free_resources): Init escalator resources.
	(serve_post): Check and setup escalator keys.
	(exec_omp_post): Handle command "create_escalator".  Pass escalator to
	create_task_omp.
	(exec_omp_get): Handle commands "delete_escalator" and "get_escalators".

	* src/gsad_omp.c (gsad_newtask): Also get escalators.  Correct two error
	message strings.
	(create_task_omp): Add escalator arg.
	(send_escalator_data, create_escalator_omp, delete_escalator_omp)
	(get_escalators_omp): New functions.

	* src/gsad_omp.h: Add and update headers accordingly.

	* src/html/src/omp.xsl (html-report-table): Add escalator link.
	(escalator, html-create-escalator-form, html-escalators-table)
	(create_escalator_response, delete_escalator_response)
	(escalator, get_escalator): New templates.
	(gsad_newtask): Add escalator selector.

	* src/html/src/gsad.xsl (html-gsa-navigation): Add Escalators menu item.

	* src/html/src/help/contents.htm4: Add Escalators menu item.

	* src/html/headers.m4: Add Escalators menu item.

2009-12-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_omp.h: Updated according to last commit.

2009-12-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_agents_omp): Change result_len to gsize.

2009-12-22  Michael Wiegand <michael.wiegand@intevation.de>

	Fixed variable types for 64bit compatibility in Base64 decoding.

	* src/gsad_omp.c (get_lsc_credentials_omp): Changed result_len to gsize.
	(get_report_omp): Changed report_len to gsize.

	* src/gsad_omp.h: Updated.

	* src/gsad.c: Changed response_size and header_auth_decoded_len to
	gsize.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 0.8.3 release.

	* src/html/src/about.htm4: Updated.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* CMakeLists.txt: Don't ignore necessary files when creating the source
	tarball.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help/contents.htm4: Added agent help to help contents.

2009-12-21  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/agent.png: New.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/oap.xsl: Include settings error message if there is one.
	Make sure filename is correctly aligned, even in Konqueror.

2009-12-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (append_chunk_binary): New function.
	(serve_post): Use append_chunk_binary for binary keys.
	(request_handler): Move authentication check down into GET and POST cases.
	Only authentication for the first chunk of a POST request.

	* src/html/src/omp.xsl (html-create-agent-form): Comment out the HOWTOs.

2009-12-18  Matthew Mundell <matthew.mundell@intevation.de>

	Enable agent download button.

	* src/gsad.c (init_validator): Add "agent_format".
	(struct req_parms): Add fields for agent installer and HOWTO.
	(free_resources): Free installer and HOWTO fields.
	(serve_post): Fill installer and HOWTO fields.
	(exec_omp_post): Pass installer and HOWTO fields to create_agent_omp.
	(exec_omp_get): Expect format in request parameter "agent_format"
	instead of in "package_format".  Switch MIME type to
	application/octet-stream.

	* src/gsad_omp.c (create_agent_omp): Add installer and HOWTO args.  Encode
	installer and HOWTO before sending.

	* src/gsad_omp.h: Update header.

	* src/html/src/omp.xsl (agent): Enable single download button.

	* src/html/src/help/configure_agents.htm4: Correct typo.  Use agent.png.
	Close comment.

	* src/CMakeLists.txt: Neaten heading description.

2009-12-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/CMakeLists.txt: Remove HEADERS_TEMP and LIBS_TEMP as the OpenVAS
	flags are provided by other variables.  Set OpenVAS compile flags on
	gsad_omp and gsad_oap.

2009-12-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Add an agents page.

	* src/gsad.c (init_validator, exec_omp_post, exec_omp_get): Added
	handling for agents.

	* src/gsad_omp.c (create_agent_omp, delete_agent_omp)
	(get_agents_omp): New functions.

	* src/gsad_omp.h: Added according protos.

	* src/html/src/omp.xsl (html-create-agent-form, html-agents-table)
	(create_agent_response, delete_agent_response, agent, get_agents_response)
	(agents_response): New templates.

	* src/html/src/gsad.xsl, src/html/header.m4: Added link to agents.

	* src/html/src/help/configure_agents.htm4: New.

2009-12-18  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt, src/CMakeLists.txt: Added checks for gnutls, libxml
	and libxslt. Tried to use "elegant" cmake mechanisms to add the
	respective linker and compiler flags, but failed.
	Todo with link to workaround added.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-table): Bold name.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	Improve cross referencing.

	* src/html/src/omp.xsl (html-report-table): Add config and target to
	summary.
	(target): Link credential to credentials page.
	(html-config-table): Add section "Tasks using this Config".

2009-12-17  Michael Wiegand <michael.wiegand@greenbone.net>

	Added support for retrieving settings from the openvas-admininistrator.

	* src/gsad.c (init_validator): Added get_settings to the list of
	valid commands, fixed sorting of commands.
	(exec_omp_get): Added handling of get_settings command.

	* src/gsad_oap.c (get_settings_oap): New function to handle
	get_settings.

	* src/gsad_oap.h: Updated.

	* src/html/src/oap.xsl: Added handling of get_settings_response.

	* src/html/src/gsad.xsl: Added new menu item.

	* src/html/src/help/contents.htm4: Added new list item.

	* src/html/src/help/settings.htm4: New.

	* src/html/header.m4: Added new menu item.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add sort buttons for task and status to the get_status page.

	* src/html/src/omp.xsl (sort): New template.
	(html-task-table): Add task and status sort buttons.

	* src/gsad.c (init_validator): Add '_' to sort_field.
	(exec_omp_post): Pass sort field and order to get_status_omp.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Use versioning mechanism as in the other OpenVAS CMake-based projects,
	added files and targets to generate documentation.

	* VERSION.in: New.

	* VERSION: Removed, will be generated by CMake.

	* doc/, doc/Doxyfile.in, doc/Doxyfile_full.in, doc/CMakeLists.txt,
	doc/.built-html: New, files to be used to generate documentation using
	doxygen.

	* CMakeLists.txt: Added versioning and documentation mechanism from
	openvas-manager.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Fixed formatting by adding missing quotes.

2009-12-17  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Make report filter dialog
	look nicer in Konqueror.

2009-12-17  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (exec_omp_get): Maximum result count back down
	to 1000 as we have pagination acticated.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Use pkg-config module to check for correct
	libmicrohttpd version.

	* src/CMakeLists.txt: Added TODOs to check for other libraries using
	the same mechanism as in the top-level CMakeLists.txt and to use
	the proper variables at compiling and linking step.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Increase credential_login max size to 40.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Align table better.  Move
	per-host summary into filtered results.  Add a summary of total threat
	counts.  Rename the "Results per Host" window "Filtered Results".

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Only display result range
	and result headings when there are results.  Add first_result to download
	URL.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	Separate credential name from credential login name.

	* src/gsad.c (init_validator): Add credential_login.
	(struct gsad_connection_info): Add req_parms.credential_login.
	(free_resources): Free credential login.
	(serve_post): Check for credential_login key.
	(exec_omp_post): In create_lsc_credential case pass credential_login to
	create_lsc_credential_omp.

	* src/gsad_omp.c (create_lsc_credential_omp): Add login arg.  Send to
	manager as login entity.

	* src/gsad_omp.h: Update header.

	* src/html/src/omp.xsl (html-create-lsc-credential-form): Add Login field.
	(html-lsc-credentials-table): Add Login heading.
	(lsc_credential): Add Login column.

2009-12-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Order authors alphabetically by surname.

	* ChangeLog: Improve formatting.

2009-12-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Correct doc.  Neaten comments.  Format strcmp conditionals
	consistently.

2009-12-10  Michael Wiegand <michael.wiegand@intevation.de>

	* src/gsad.c (exec_omp_get): Increased maximum result count.

2009-12-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/header.m4: Adjusted menu to dynamic pages. (use plural
	"Scan Configs").

2009-12-08  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.8.3.SVN.

	* CMakeLists.txt: Updated CPACK_PACKAGE_VERSION_PATCH.

	* src/html/src/about.htm4: Updated.

2009-12-08  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 0.8.2 release.

	* VERSION: Set to 0.8.2.

	* CMakeLists.txt: Updated CPACK_PACKAGE_VERSION_PATCH.

	* src/html/src/about.htm4: Updated.

2009-12-07  Michael Wiegand <michael.wiegand@intevation.de>

	Fixed a bug which caused the GSA to hang or crash when editing the
	configuration for a family containing ":".

	* src/gsad.c (init_validator): Added / fixed regular expressions for
	family names.
	(exec_omp_post): Repaired validator usage.

2009-12-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Improved checks for pkg-config and libopenvas-config,
	Intention was to first collect missing tools and then report on them to
	avoid configure-install cycles.

2009-12-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Added checks for pkg-config and libopenvas-config.

2009-12-03  Michael Wiegand <michael.wiegand@intevation.de>

	Added initial NVT feed synchronization support.

	* src/gsad.c (init_validator): Mark get_feed and sync_feed as valid
	commands.
	(exec_omp_post): Add handling of sync_feed command.
	(exec_omp_get): Add handling of get_feed command.

	* src/gsad_oap.c: Added functions for getting the description of a feed
	and for synchronization with a feed.
	(get_feed_oap, sync_feed_oap): New.

	* src/gsad_oap.h: Updated header.

	* src/html/src/gsad.xsl, src/html/src/help/contents.htm4,
	src/html/header.m4: Add menu item for feed management.

	* src/html/src/oap.xsl: Add support for new response types.

	* src/html/src/help/feed_management.htm4: New.

2009-12-03  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/make_html: Fix grep for static files to exclude
	SVN elements.

2009-12-03  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (REALM, POST_BUFFER_SIZE, FILE_NOT_FOUND,
	ERROR_PAGE, SERVER_ERROR, content_type, content_disposition,
	response_size, log_config, verbose): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (exec_omp_post, exec_omp_get): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (serve_post): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (free_resources, check_is_dir): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_connection_info, get_header_credentials)
	(is_http_authenticated, file_reader, get_file_size): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (print_header, send_response)
	(send_http_authenticate_header, request_handler): Improve documentation.
	(request_handler): Use "const" where possible. Introduce
	oap_cgi_base. Improve redirect for non-base URLs. Redirect
	"/login/". Fix memleak.
	(gsad_init): Improve documentation. Call init_validator.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c: Fixed some comments. Added list of includes.
	(DEFAULT_GSAD_PORT, DEFAULT_OPENVAS_ADMINISTRATOR_PORT)
	(DEFAULT_OPENVAS_MANAGER_PORT, GCRY_THREAD_OPTION_PTHREAD_IMPL)
	(gsad_daemon, validator, init_validator): New.
	(main): Use unified exit code. Improved comments.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Fixed comment.

	* src/CMakeLists.txt: Reformatted.

2009-12-02  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl: Make 'Full and fast' accessible again as a scan
	config template.

2009-12-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.2.SVN.

2009-12-01  Michael Wiegand <michael.wiegand@intevation.de>

	Add support for new empty scan config template.

	* src/html/src/omp.xsl: Switch default to 'empty'.

	* src/gsad_omp.c (create_config_omp): Switch default to 'empty'.

2009-12-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Grey out Stop/Delete in case a Task is "Requested".

2009-11-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.h, src/gsad_omp.c: New files.

	* src/CMakeLists.txt: Add static analysis rules.

2009-11-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-nvt-table): Always show the
	preferences, as there is always the timeout preference.

2009-11-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.1.SVN.

2009-11-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/header.m4, src/html/footer.m4, src/html/template.m4: New.

	* src/html/make_html: New.

	* src/html/src/login/login.html,
	src/html/src/help/error_messages.htm4: New.

2009-11-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Match input widths to validator widths.
	(get_targets): Apply gsad_msg.

2009-11-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Convert tabs to spaces.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	Add per-NVT timeout support.

	* src/html/src/omp.xsl (html-config-family-table): Add timeout column.
	Always enable the NVT edit button.
	[details, edit-details] (preferences): Add always-present timeout
	preference.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_base.c (gsad_message): Add function and line arguments.  Free
	the allocated XML.

	* src/gsad_base.h: Update header.

	* src/gsad_oap.c: New file.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsad.xsl, src/html/src/omp.xsl, src/html/src/oap.xsl:
	Convert tabs to spaces.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsad.xsl, src/html/src/omp.xsl, src/html/src/oap.xsl: New
	files.

2009-11-21  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.0.SVN.

	* src/gsad_base.h (preference_t): New.

	* src/gsad_oap.h: Updated proto for get_users_oap.

2009-11-07  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsa-style.css, src/html/src/help/view_report.htm4: New.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_base.h, src/gsad_base.c: Cleanups and documentation.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/reports.htm4: New.

	* src/validator.c (openvas_validator_alias): New.
	(openvas_validate): Some more tracef-calls.

	* src/validator.h: Add proto accordingly.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	*  src/html/src/about.htm4, src/html/src/gplv2.htm4: New.

	* src/html/src/img/edit_inactive.png,
	src/html/src/img/ascending_inactive.png, src/html/src/img/edit.png,
	src/html/src/img/descending_inactive.png: New.

2009-11-04  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/descending.png, src/html/src/img/ascending.png: New.

2009-10-31  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/validator.c: New.

2009-10-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/download.png, src/html/src/img/bullet2.png,
	src/html/src/img/bullet.png, src/html/src/img/alert_sign.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Some cosmetics.

	* src/gsad_base.h: Updated protos and added message string.

	* src/gsad_base.c (xsl_transform): Take only xml text now
	instead of files for xml and xsl.
	(gsad_message): New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/tasks.htm4, src/html/src/help/contents.htm4,
	src/html/src/help/glossary.htm4: New.

	* src/html/src/img/high_big.png, src/html/src/img/medium_big.png,
	src/html/src/img/none_big.png, src/html/src/img/low_big.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/list_inactive.png, src/html/src/img/list.png,
	src/html/src/img/log.png, src/html/src/img/gsa_splash.png,
	src/html/src/img/low.png, src/html/src/img/high.png,
	src/html/src/img/medium.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/style/, src/html/src/img/style/logo_l.png,
	src/html/src/img/style/logo_m.png, src/html/src/img/style/logo_r.png,
	src/html/src/img/style/window_dec_a_error.png,
	src/html/src/img/style/window_dec_a.png,
	src/html/src/img/style/window_dec_b_error.png,
	src/html/src/img/style/window_dec_b.png,
	src/html/src/img/style/window_dec_c_error.png,
	src/html/src/img/style/window_dec_c.png: New.

	* src/validator.h: New.

	* src/CMakeLists.txt: Add module validator, fix sequence of modules,
	make libs static, remove cmake minimum requirement.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt: Upgraded from 0.7.3.SVN to 0.7.4.SVN.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/configure_scanconfigs.htm4,
	src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_users.htm4: New. More documentation.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/CMakeLists.txt: Changed - to _ in module names.

	* src/gsad_oap.h: Fixed filename in doc.

	* src/gsad_base.h: Fixed filename in doc. Added missing proto.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_base.c: New.

	* src/CMakeLists.txt: Added handling of module gsad_base.

2009-10-25  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Renamed to src/gsad_oap.h.

2009-10-25  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad-base.h: Renamed to src/gsad_base.h.

	* src/gsad-oap.h: Adjusted include name accordingly.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (print_header, send_response, send_redirect_header): New.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt: Increased from 0.7.2.SVN to 0.7.3.SVN.

	* src/gsad_log_conf.cmake_in: Added "level".

	* src/CMakeLists.txt: Better handling of compile flags.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (main): Apply DEBUG flag for MHD.
	(request_handler): Fix typo.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (request_handler): Fix call of gsad_newtask,
	use g_strconcat.
	(gsad_init): Init glib.
	(main): Adjust logging to avoid recursion.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (send_http_authenticate_header): New.

2009-10-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_cleanup, main): Factored out pidfile management.

2009-10-20  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (request_handler): New.

2009-10-15  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/p_bar_bg.png, src/html/src/img/p_bar_done.png,
	src/html/src/img/p_bar_error.png, src/html/src/img/p_bar_new.png,
	src/html/src/img/p_bar.png, src/html/src/img/p_bar_request.png,
	src/html/src/img/trend_down.png, src/html/src/img/trend_less.png,
	src/html/src/img/trend_more.png, src/html/src/img/trend_nochange.png,
	src/html/src/img/trend_up.png: New.

2009-10-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_init): New.

2009-10-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (main): omp_init splits into omp_init and oap_init.
	(gsad_cleanup): New.

2009-10-13  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad-oap.h: New.

	* src/gsad-base.h: New.

	* src/tracef.h: New.

	* src/CMakeLists.txt: Handle modules gsad-omp and gsad-oap.

2009-10-12  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION: New.

	* src/gsad_log_conf.cmake_in: New.

	* src/CMakeLists.txt: New.

	* src/html/src/img/rpm.png, src/html/src/img/exe.png,
	src/html/src/img/key.png, src/html/src/img/deb.png: New.

	* gsad.c: New.

2009-10-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/new.png: New.

2009-10-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/configure_targets.htm4,
	src/html/src/help/new_task.htm4: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/start.png, src/html/src/img/refresh.png,
	src/html/src/img/start_inactive.png, src/html/src/img/delete.png,
	src/html/src/img/delete_inactive.png, src/html/src/img/details.png,
	src/html/src/img/stop.png, src/html/src/img/stop_inactive.png,
	src/html/src/img/help.png: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/, src/html/src/login/, src/html/src/img/,
	src/html/src/favicon.gif: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* CMakeLists.txt: New.

	* src/html/: New.

2009-09-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* INSTALL: New.

	* README: New.

2009-09-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* COPYING: New. The GNU GPLv2.

	* src/: New.

2009-09-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Starting package "gsa" (Greenbone Security Assistant)

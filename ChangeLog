2010-07-05  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-report-table, overide)
	(html-overrides-table): Add From column.  Rename New Threat column to To.
	(override-detailed): Add from threat to heading.

2010-07-05  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-create-override-form): Select False Positive for
	New Threat.

2010-07-05  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/img/override.png, src/html/img/new_override.png: Updated.

2010-07-05  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/img/false_positive.png: New.

	* src/html/omp.xsl: Fix for consistent spelling of false_positive.png.

	* src/CMakeLists.txt: Install the new graphics file.

2010-07-03  Matthew Mundell <matthew.mundell@greenbone.net>

	Add Syslog and SNMP escalator methods.

	* src/gsad_omp.c (create_escalator_omp): Extract the syslog "submethod"
	data from the "method" param.

	* src/html/omp.xsl (html-create-escalator-form): Add syslog and SNMP
	methods.

2010-07-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl (html-report-details): Consolidate title
	bar action.

2010-07-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl (html-report-table): Consolidate title
	bar action.

2010-07-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl (html-task-table): Use a hook to mark
	current selection in title bar. Well, officially its
	the radic symbol, but looks good.

2010-07-02  Matthew Mundell <matthew.mundell@greenbone.net>

	Add False Positive "threat" for overrides.

	* src/gsad.c (init_validator): Add false positive to levels and threat.
	Add level_false_positive.
	(exec_omp_get): Add false positive to level string.

	* src/html/omp.xsl (build-levels): Add False Positive.
	(html-report-details): Add false positive column and filter.
	(html-report-table): Add false positive column.
	(false_positive): New template.
	(report): Add FP to tool tip.  Fill false positive column.
	(last_report): Add FP to tool tip.
	(html-create-override-form, html-edit-override-form): Add False Positive
	to New Threat.
	(get_reports_response/report [overview]): Add false positive column.

2010-07-02  Michael Wiegand <michael.wiegand@greenbone.net>

	* CMakeLists.txt: GSA requires glib to be at least 2.14. Modified
	library check to check glibs version as well.

2010-07-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl (html-task-table): Consolidate title bar actions.
	Mark current setting with ">". Don't us checkbox for
	nicer and consistent appearance.

2010-07-01  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-task-table, html-report-details)
	(html-report-table): Move the "Apply overrides" checkbox into the table
	heading.

2010-06-30  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_tasks): Move GET_NOTES and GET_OVERRIDES task ID
	into attribute.

2010-06-30  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-edit-override-form): Ensure new threat offers
	the existing value.

2010-06-30  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_target_omp): Send USERNAME and PASSWORD inside
	TARGET_LOCATOR.

	* src/html/omp.xsl (target_locator [select]): Get name from entity.

2010-06-30  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_note_omp, save_note_omp, create_override_omp)
	(create_override_omp): Move TASK IDs from text into attribute.

2010-06-30  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_note_omp, save_note_omp, create_override_omp)
	(create_override_omp): Move NVT and RESULT IDs from text into attribute.

2010-06-29  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_nvts): Align param.  Change GET_NVTS/@oid to
	nvt_oid.  Move GET_NOTES and GET_OVERRIDES elements to attributes.
	(get_config_nvt_omp, save_config_nvt_omp)
	(export_preference_file_omp): Change GET_NVTS/@oid to nvt_oid.

2010-06-27  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_target_omp): Add tasks attrib to GET_TARGETS.

2010-06-27  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (new_override_omp): Remove apply_overrides flag.

2010-06-26  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-report-details): Rename report/messages to
	report/result_count.  Rename report/scan_result_count to
	report/result_count.
	(report, last_report): Rename report/messages to report/result_count.
	(messages): Remove.
	(result_count): New template.  Rename from messages.

2010-06-24  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_report_omp, create_note_omp, delete_note_omp)
	(save_note_omp, create_override_omp, delete_override_omp)
	(save_override_omp): Replace get_report with get_reports.

	* src/html/omp.xsl (get_report_response)
	(get_report_response/report [overview, details): Remove.
	(get_reports_response, get_reports_response/report [overview, details):
	New templates.  Renamed from "get_report" counterparts.

2010-06-24  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (manager_connect): Note breakpoint method of pausing.

	* src/gsad_oap.c (administrator_connect): Note breakpoint method of
	pausing.

2010-06-24  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-config-nvt-table): Select prefs from inside NVT.

2010-06-23  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_nvts, get_config_family_omp, get_config_family_omp)
	(get_config_nvt_omp): Adjust get_nvts with new details flags.

2010-06-23  Matthew Mundell <matthew.mundell@greenbone.net>

	Rename GET_NVT_DETAILS to GET_NVTS.

	* src/gsad.c (init_validator): Remove get_nvt_details.  Add get_nvts.
	(exec_omp_get): Call get_nvts_omp instead of get_nvt_details_omp.  Replace
	"get_nvt_details" page name args with "get_nvts".

	* src/gsad_omp.c: Replace get_nvt_details in comments and docs.
	(get_nvt_details, get_nvt_details_omp): Remove.
	(get_nvts, get_nvts_omp): New function.  Rename from "nvt_details"
	version.  Update callers.
	(get_config_nvt_omp, get_config_family_omp): Replace get_nvt_details
	command.  Add details attribute.
	(delete_note_omp, save_note_omp, delete_override_omp): Replace
	get_nvt_details in page name comparison.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/omp.xsl (get_nvt_details): Remove.
	(get_nvt): New template.  Renamed from get_nvt_details_response.
	(html-config-family-table, html-config-nvt-table): Replace "nvt_details"
	with "nvts".

2010-06-22  Matthew Mundell <matthew.mundell@greenbone.net>

	Rename ABORT_TASK to STOP_TASK.

	* src/gsad.c (init_validator): Remove abort_task.  Add stop_task.
	(exec_omp_get): Call stop_task_omp instead of abort_task_omp.

	* src/gsad_omp.c (abort_task_omp): Remove.
	(stop_task_omp): New function.  Rename from "abort" version.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/help.xsl (tasks.html): Replace "abort" with "stop".

	* src/html/omp.xsl (abort_task_response): Remove.
	(stop_task_response): New template.  Renamed from abort_task_response.
	(task): Replace "abort" with "stop".

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad.c (init_validator): Add _ to credential_login chars.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (task): Also pass apply_override through to task
	details page.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (get_tasks_response): Improve operation name.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-report-details): Use correct name for
	apply_overrides in report download request.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-report-details): Add apply_overrides to report
	download request.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-report-details): Add "Apply overrides" checkbox.

2010-06-21  Matthew Mundell <matthew.mundell@greenbone.net>

	Remove report "Apply overrides" checkbox.  Make the actions on the task
	list preserve the override state.

	* src/gsad.c (init_validator): Add command new_task.
	(exec_omp_post): Call new_task_omp instead of gsad_newtask, passing
	"apply override" flag.  Pass "apply override" flag to create_task_omp.
	(exec_omp_get): Pass "apply override" flag to task functions that lead to
	getting the task list.  Pass "show overrides" flag to functions that lead
	to getting a single task.
	(request_handler): Remove new_task.html special case.

	* src/gsad_omp.c (gsad_newtask): Remove.
	(new_task_omp): New function.  Rename from gsad_newtask.  Add
	apply_overrides arg.
	(create_task_omp, delete_task_omp, edit_task, edit_task_omp)
	(save_task_omp, abort_task_omp, pause_task_omp, resume_paused_task_omp)
	(resume_stopped_task_omp, start_task_omp): Add apply_overrides flag.
	(delete_note_omp, save_note_omp, delete_override_omp)
	(save_override_omp): Pass overrides arg to get_tasks as apply_overrides.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/gsad.xsl (autorefresh): Add overrides to URL.
	(html-gsa-navigation): Add overrides flags to get_tasks URL.  Replace
	new_task.html with new_task command.

	* src/html/help.xsl (configure_targets.html): Correct typo.
	(new_task.html): Remove.

	* src/html/omp.xsl (apply_overrides): New template.
	(html-task-table): Get apply_overrides directly from get_tasks response.
	Replace new_task.html with command version, including overrides flag.
	Pass overrides flag to pages that return to get_tasks.
	(html-report-details): Pass overrides to get_report.  Remove overrides
	checkbox.
	(html-edit-task-form): Pass override flag on to get_tasks.
	(task): Pass overrides flag through to report and report list and to pages
	that return to get_tasks.
	(gsad_newtask): Remove.
	(new_task): New template.  Renamed from gsad_newtask.  Pass override flag
	to create_task.

2010-06-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/help.xsl (configure_targets.html): Added
	description for import of targets.

2010-06-19  Matthew Mundell <matthew.mundell@greenbone.net>

	Add "Apply override" checkboxes for task and report lists.

	* src/gsad.c (exec_omp_post, exec_omp_get): Pass overrides flag to
	get_tasks_omp.

	* src/gsad_omp.c (get_tasks): Add overrides arg.  Update callers.
	(get_tasks_omp): Add overrides arg.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/omp.xsl (html-task-table, html-report-table): Add "Apply
	overrides" checkbox.
	(get_tasks): New template.

2010-06-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/oap.xsl: Little facelift for ADS/LDAP dialogs.

	* src/html/help.xsl: Moved and cleaned up ADS and LDAP
	documentation into Users page.

2010-06-18  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_report_omp, create_note_omp, delete_note_omp)
	(save_note_omp, new_override_omp, create_override_omp)
	(delete_override_omp, save_override_omp): Pass overrides as 1 always, and
	pass apply_overrides with alongside overrides with the value overrides
	had.

	* src/html/omp.xsl (html-report-details): Rename "Show overrides" to
	"Apply overrides" and check it according to the apply_overrides filter
	setting.

2010-06-18  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (init_validator): Move "get_tasks" into alphabetical
	order.

2010-06-18  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/gsa-style.css: Order authors alphabetically.

2010-06-18  Matthew Mundell <matthew.mundell@greenbone.net>

	Rename GET_STATUS to GET_TASKS.

	* src/gsad_oap.c (get_users_oap, get_feed_oap, sync_feed_oap)
	(get_settings_oap, edit_settings_oap, save_settings_oap)
	(modify_ldap_auth_oap): Replace "get_status" with "get_tasks".

	* src/gsad_omp.c: Replace "get_status" with "get_tasks" in all messages
	and comments.
	(get_status, get_status_omp): Remove.
	(get_tasks, get_tasks_omp): New function.  Renamed from "status" version.
	(edit_task_xml, start_task_xml, delete_report_omp): Replace get_status
	with get_tasks in OMP.
	(save_task_xml, delete_note_omp, save_note_omp)
	(save_override_omp): Replace get_status call with get_tasks.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/gsad.xsl (autorefresh, html_gsa_logo, html-gsa-navigation)
	(error_dialog): Replace "get_status" with "get_tasks".

	* src/html/help.xsl (feed_management.html, reports.html)
	(tasks.html): Replace "get_status" with "get_tasks".

	* src/html/login/login.html: Replace "get_status" with "get_tasks".

	* src/html/oap.xsl (user [details]): Replace "get_status" with
	"get_tasks".

	* src/html/omp.xsl: Replace "get_status" with "get_tasks" in all URLs,
	POST variables and comments.
	(get_status_response): Remove.
	(get_tasks_response): New template.  Renamed from get_status_response.

2010-06-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/img/override.png, src/html/img/new_override.png: New.
	Temporary icons for override.

	* src/CMakeLists.txt: Install new icons.

2010-06-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (edit_task, get_status, delete_report_omp): Request
	details when getting status with task.

2010-06-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (task_id, identifier): Remove.  Old templates.
	(result-detailed): Ensure that new notes and overrides use the original
	threat.

2010-06-16  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (result [detailed]): Skip CVSS when overridden.

2010-06-16  Matthew Mundell <matthew.mundell@greenbone.net>

	Add threat overrides.

	* src/gsad.c (init_validator): Add overrides commands and validators.
	(struct req_parms): Add overrides and new_threat.
	(free_resources): Free new_threat.
	(serve_post): Fill overrides and new_threat.
	(exec_omp_post): Pass overrides to create_note_omp.  Add handling for
	override commands.
	(exec_omp_get): Pass override request params to intermediate pages, as
	with notes request params.  Add handling for override commands.  Pass
	overrides param to get_report_omp.

	* src/gsad_omp.c (get_nvt_details): Get overrides.
	(get_report_omp, new_note_omp, create_note_omp, delete_note_omp)
	(edit_note_omp, save_note_omp): Add overrides flag arg.
	(get_overrides, get_overrides_omp, get_override, get_override_omp)
	(new_override_omp, create_override_omp, delete_override_omp)
	(edit_override_omp, save_override_omp): New function.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/omp.xsl: Pass overrides param to get_report.  Pass override
	request params to intermediate pages, as with notes request params.
	(html-report-details): Add overrides checkbox.
	(html-report-table): Add task overrides window.
	(get_overrides_response): New template.
	(get_nvt_details): Apply delete_override_response.  Add overrides section.
	(html-create-override-form, new_override, html-edit-override-form)
	(edit_override, modify_override_response, override, overide [nvt-details])
	(override [details], html-overrides-table, get_override, get_overrides)
	(create_override_response, delete_override_response, override-detailed): New templates.
	(result_detailed): Add override header, buttons and box.

	* src/html/gsad.xsl (html-gsa-navigation): Add "Notes" menu item.

	* src/html/src/gsa-style.css (.override_box_box, .override_top_line): New
	styles.

2010-06-10  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad_omp.c (create_task_omp): Fix. If no schedule is given, do
	not send schedule element with empty id, as manager will not be able
	to find it. Dont send schedule element instead. Merged with same issue
	for escalator.

2010-06-10  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/gsa-style.css: Add hover style for odd and even tr.

	* src/html/omp.xsl: Make tr's that correspond to a tr.odd
	now a tr.even.

2010-06-10  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_task_omp): Add missing XML quote.

2010-06-10  Matthew Mundell <matthew.mundell@greenbone.net>

	Pass config names to pages that need them.

	* src/gsad.c (exec_omp_post): Pass name to save_config_omp,
	save_config_family_omp and save_config_nvt_omp.
	(exec_omp_get): Pass name to get_config_family_omp, get_config_nvt_omp,
	get_config_family_omp and get_config_nvt_omp.

	* src/gsad_omp.c (save_config_omp, save_config_family_omp)
	(save_config_nvt_omp): Add name arguments.
	(get_config_family_omp, get_config_nvt_omp): Add name arguments.  Add
	NAME to CONFIG.  Update callers.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/omp.xsl (html-config-family-table, preference, preferences)
	(html-config-nvt-table, html-config-table): Pass config name alongside
	UUID.

2010-06-09  Matthew Mundell <matthew.mundell@greenbone.net>

	Switch to config UUIDs.

	* src/gsad.c (init_validator): Add validator "config_id".  Remove
	"scanconfig".
	(req_parms, free_resources, serve_post): Add config_id to required params.
	Remove scanconfig.
	(exec_omp_post): Expect create_task_omp config in config_id instead of
	scanconfig.  Expect config UUID instead of name in save_config_omp,
	save_config_family_omp and save_config_nvt_omp.
	(exec_omp_get): Pass config UUID instead of config name to config related
	functions.

	* src/gsad_omp.c (create_task_omp, get_config_omp)
	(save_config_omp, get_config_family_omp, save_config_family_omp)
	(get_config_nvt_omp, save_config_nvt_omp, delete_config_omp)
	(export_config_omp, export_preference_file_omp): Expect config as UUID
	instead of name.

	* src/html/omp.xsl (html-report-table, html-edit-task-form)
	(html-config-family-table, preference, preference-details)
	(edit-config-preference, preferences, html-config-nvt-table)
	(family, html-config-table, config, gsad_newtask): Pass
	config in "config_id" param instead of "name" or "scanconfig".
	(config [newtask]): Use UUID as value.
	(html-create-config-form): Replace predefined config names with UUIDs.

2010-06-09  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad.c (exec_omp_get): Use correct variable when validating family.

2010-06-09  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad.c (validate): New function that validates a parameter from
	the request. If parameter was found invalid, free it and set the
	corresponding variable to NULL.
	(exec_omp_post): Replaced code with call to validate.

2010-06-09  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_task_omp): Pass schedule ID in attribute.

2010-06-09  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/omp.xsl (task): Deactivate icons when the actions are not
	applicable to the current status.

2010-06-09  Matthew Mundell <matthew.mundell@greenbone.net>

	Switch to target UUIDs.

	* src/gsad.c (init_validator): Add validator "target_id".  Remove
	"scantarget".
	(req_parms, free_resources, serve_post): Add target_id to required params.
	Remove scantarget.
	(exec_omp_post): Expect create_task_omp target in target_id instead of
	scantarget.
	(exec_omp_get): Pass target_id instead of name to delete_target_omp and
	get_target_omp.

	* src/gsad_omp.c (create_task_omp, delete_target_omp)
	(get_target_omp): Expect target as UUID instead of name.

	* src/html/omp.xsl (html-report-table, html-edit-task-form)
	(lsc_credential [details], target, gsad_newtask): Pass
	target in "target_id" param instead of "name".
	(target [newtask]): Use UUID as value.

2010-06-07  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-create-target-form): Revert to "--" as value
	associate with "--" credential, which was already working.

2010-06-07  Matthew Mundell <matthew.mundell@greenbone.net>

	Switch to LSC credential UUIDs.

	* src/gsad.c (init_validator): Add validator "lsc_credential_id".
	(req_parms, free_resources, serve_post): Add lsc_credential_id to required
	params.
	(exec_omp_post): Expect create_target_omp credential in lsc_credential_id.
	(exec_omp_get): Pass lsc_credential_id instead of name to
	delete_lsc_credential_omp, get_lsc_credential_omp and
	get_lsc_credentials_omp.

	* src/gsad_omp.c (delete_lsc_credential_omp, get_lsc_credential_omp)
	(get_lsc_credentials_omp): Expect lsc_credential_id instead of name param.
	(create_target_omp): Expect credential as UUID instead of name.

	* src/html/omp.xsl (lsc_credential, target, target [details]): Pass
	credential in "lsc_credential_id" param instead of "name" and
	"credential_login".
	(lsc_credential [select]): Use UUID as value.
	(html-create-target-form): Pass 0 as value associate with "--" credential.

2010-06-07  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (create_target_omp): Indent overhung assign like others.
	Bring long lines in range.  Indent args properly.

2010-06-07  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad.c (exec_omp_post): Indent overhang properly.

2010-06-07  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/help.xsl (scanconfig_nvt_details.html): Improve description.

	* src/html/omp.xsl: Format header comment like others.
	(html-create-target-form): Align cell.

2010-06-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/help.xsl (scanconfig_nvt_details.html): Added
	description of risk factors.

2010-06-06  Matthew Mundell <matthew.mundell@greenbone.net>

	Switch to escalator UUIDs.

	* src/gsad.c (init_validator): Adapt "escalator_id" for UUIDs.  Remove
	"escalator".
	(req_parms, free_resources, serve_post): Rename escalator to escalator_id.
	(exec_omp_post): Allow escalator_id to be "--".  Rename escalator to
	escalator_id.
	(exec_omp_get): Pass escalator_id instead of name to delete_escalator_omp,
	get_escalator_omp and test_escalator_omp.

	* src/gsad_omp.c (create_task_omp): Rename escalator to escalator_id,
	and move to attrib.
	(delete_escalator_omp, get_escalator_omp, test_escalator_omp): Expect
	escalator_id instead of name param.

	* src/html/omp.xsl (html_report_table, escalator, gsad_newtask): Pass
	escalator_id instead of name in escalator URLs.
	(escalator [newtask]): Use UUID as value.
	(html-edit-task-form): Use UUID as value, using "0" to remove escalator.

2010-06-04  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad_omp.c (get_targets_omp): Corrected command name.

2010-06-04  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	Reflect name change of OMP command (sources became target_locators).

	* src/gsad.c (gsad_connection_info, serve_post, exec_omp_post)
	(init_validator): Renamed source to target_locator.

	* src/gsad_omp.c (create_target_omp, delete_target_omp)
	(get_targets_omp): Renamed source to target_locator.

	* src/html/omp.xsl: Renamed source to target_locator.

2010-06-04  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad_omp.c (gsad_newtask): Added comments.

2010-06-04  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	Added Import section to Targets page, allows fetching targets from
	external sources ("target locators"), if manager is configured to do
	so. Uses recent changes and additions in CREATE_TARGET and GET_SOURCES
	OMP commands.

	* src/gsad_omp.c (create_target_omp): Added parameters for source,
	username and password, include in OMP command if present.
	(delete_target_omp, get_targets_omp): Request sources after deletion
	of a target.

	* src/gsad_omp.h (create_target_omp): Adjusted proto.

	* src/gsad.c (init_validator): Added source validator.
	(gsad_connection_info): Added source field.
	(serve_post): Fill new source field.
	(exec_omp_post): Validate new parameters and pass to create_target_omp.

	* src/html/omp.xsl (source): New, creates option in a select box.
	(html-create-target-form): Updated to allow specification of source
	and respective authorization, if configured.
	(create_target_response): Pass response of get_sources as parameter.

	* src/html/help.xsl (configure_targets): Updated examples with
	comma-space separation of hosts.

2010-06-03  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (agent): Get UUID from "id" attrib.

2010-06-03  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/help.xsl: Handle requests for nonexistent help pages
	better. Kudos to Jan-Oliver Wagner for suggesting this approach.

2010-06-03  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (get_report_response/report [overview]): Compare to
	empty string instead of '(null)'.

2010-06-03  Matthew Mundell <matthew.mundell@greenbone.net>

	Switch to agent UUIDs.

	* src/gsad.c (init_validator): Add validator "agent_id".
	(exec_omp_get): Pass agent_id instead of name to delete_agent_omp and
	get_agents_omp.

	* src/gsad_omp.c (delete_agent_omp, get_agents_omp): Expect agent_id
	instead of name param.

	* src/html/omp.xsl (agent): Pass agent_id instead of name in delete_agent
	and get_agents URLs.

2010-06-03  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-lsc-credentials-table): Widen actions column.

2010-06-03  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad.c (exec_omp_post): For selected LSC credentials in the
	create target command, use different field in req_parms. Added todo, as
	the proper solution might include creating a new field and validator
	for this parameter.

2010-06-02  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (get_agents_omp): Indent params properly.

2010-05-31  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/html/help.xsl: Added help for ADS authentication configuration.
	Added table of options for LDAP authentication configuration.

	* src/html/oap.xsl: Link the respective (ADS/LDAP) section in help
	page.

2010-05-28  Michael Wiegand <michael.wiegand@greenbone.net>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/help.xsl: Updated version number.

2010-05-28  Michael Wiegand <michael.wiegand@greenbone.net>

	Preparing the gsa 1.0.0-beta7 release.

	* src/html/help.xsl: Updated version number.

	* CHANGES: Updated.

2010-05-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/help.xsl (scanconfig_editor_nvt_families.html,
	scanconfig_family_details.html): Updated column table description
	(Risk and CVSS).

2010-05-27  Michael Meyer <michael.meyer@greenbone.net>

	* src/gsad.c (init_validator):
	Allow "-" character in hostnames when creating a new target.

2010-05-27  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad_oap.c (modify_ldap_auth_oap): Fixed conditions.

2010-05-27  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	For ADS configuration, send modification command to
	openvas-administrator.

	* src/gsad_oap.c (modify_ldap_auth_oap): Added new parameters for ADS
	configuration, new fail conditions. Made the command sent more flexible
	to handle both ads and "normal" ldap configurations.

	* src/gsad_oap.h (modify_ldap_auth_oap): Updated proto.

	* src/gsad.c (init_validator): Added new validators for group
	and domain.
	(req_params): Added group and domain variable.
	(free_resources): Free the new variables.
	(serve_post): Read group and domain from request.
	(exec_omp_post): Validate parameters, updated call to
	modify_ldap_auth_oap.

2010-05-27  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	Display ADS configuration part of describe_auth response from
	administrator, if any. Modification not yet possible.

	* src/html/oap.xsl (group): Generalized, added display of ADS
	configuration.
	(describe_auth_response): Call group template with ADS configuration.

2010-05-26  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-config-family-table): Add columns for Risk and
	CVSS in the final row.  Remove the edit test from the end of the details
	version of the table.

2010-05-20  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/CMakeLists.txt: Cosmetics.

2010-05-20  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/oap.xsl (html-feed-form): Display a message and disable the
	synchronization button if the sync script reports that it is unable to
	sync.

2010-05-19  Matthew Mundell <matthew.mundell@greenbone.net>

	Add CVSS filtering to report results.

	* src/gsad.c (init_validator): Add validator min_cvss_base.
	(req_parms): Add min_cvss_base and apply_min_cvss_base.
	(free_resources): Free min_cvss_base and apply_min_cvss_base.
	(serve_post): Setup min_cvss_base and apply_min_cvss_base.
	(exec_omp_post): Pass min_cvss_base to create_note_omp.
	(exec_omp_get): Pass min_cvss_base to GET_REPORT related commands.

	* src/gsad_omp.c (get_report_omp, new_note_omp, create_note_omp)
	(delete_note_omp, edit_note_omp, save_note_omp): Add min_cvss_base
	arg, for GET_REPORT.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/omp.xsl (html-report-details): Pass min_cvss_base params to
	get_report.  Add CVSS checkbox to get_report filters.
	(html-create-note-form, html-edit-note-form, note-details)
	(result-detailed): Pass min_cvss_base params to pages that lead to
	get_report.

2010-05-19  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (get_report_response): Add syntax error check.

2010-05-19  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/omp.xsl (report [overview]): Display a message if the task
	has not yet finished.

2010-05-19  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/omp.xsl (report [overview]): Fix display of end time for
	still running scans.

2010-05-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl: Fix number of columns for "Result Filtering".

2010-05-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/omp.xsl: Make "Result Filtering" box look nicer.

2010-05-18  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/CMakeLists.txt: Add tags targets.

2010-05-18  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad.c: Add newline at end of file.
	(modify_ldap_auth_oap): Improve some formatting.

2010-05-18  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad.c (init_validator): Added new hostport-rule. Allow port
	definitions in ldap-host input validation.

	* src/html/help.xsl (configure_manager_auth.html): Added fact that port
	can specified in the hostname parameter.

2010-05-18  Matthew Mundell <matthew.mundell@greenbone.net>

	Add "Only show hosts that have results" filtering to report results.

	* src/gsad.c (init_validator): Add validator alias.
	(req_parms): Add result_hosts_only.
	(serve_post): Check for result_hosts_only.
	(exec_omp_post): Pass result_hosts_only to create_note_omp.
	(exec_omp_get): Pass result_hosts_only to delete_note_omp, edit_note_omp,
	get_report_omp, new_note_omp and save_note_omp.

	* src/gsad_omp.c (get_report_omp, new_note_omp, create_note_omp)
	(delete_note_omp, edit_note_omp, save_note_omp): Add result_hosts_only
	arg.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/omp.xsl (html-report-details): Pass result_hosts_only in
	get_report requests.  Add a result_hosts_only checkbox.
	(report, task, html-create-note-form, html-edit-note-form, note-detailed)
	(result_detailed): Pass result_hosts_only in requests that can return to
	the get_report page.

2010-05-18  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/omp.xsl (report [overview]): Shorten displayed start and
	and times.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (report [overview]): Add start and end times to host
	table.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/help.xsl (configure_targets.html): Change CIDR limit to 20.

2010-05-17  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad_base.c (xsl_transform): Return newly allocated error
	messages in case MHD decides to free them.

2010-05-17  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad_base.c (xsl_transform): Handle errors during XSL
	transformation more gracefully, clean up and return an error message
	if the transformation failed instead of aborting.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad.c (validate_hosts_parameter): Limit CIDR mask to 20.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (result-detailed): Add CVSS alongside result NVT name.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-config-family-table): Align CVSS right.

2010-05-17  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (risk_factor): New template.
	(html-config-family-table): Replace risk colour coding with "Risk" column.

2010-05-14  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad.c (init_validator): Expand search phrase validator to allow
	punctuation characters and German umlauts.

2010-05-13  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (nvt): Add CVSS base and risk factor.

2010-05-12  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/gsa-style.css (div.Critical, div.High, div.Medium, div.Low)
	(div.None): New rules.

	* src/html/omp.xsl (html-config-family-table): Add CVSS column, coloured
	according to risk factor.

2010-05-12  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (edit-config-preference): Make password entry like file
	entry.  Only show the download button for file prefs.

2010-05-12  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/help.xsl (tasks.html): Describe the new stopped and pause
	progress bars.  Improve the "running" description a little.

2010-05-12  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (result-detailed): Skip NVT header line if OID is 0.

2010-05-11  Matthew Mundell <matthew.mundell@greenbone.net>

	Add downloading of file preferences.

	* src/gsad.c (init_validator): Add export_preference_file command.
	(exec_omp_get): Add export_preference_file handling.

	* src/gsad_omp.c (export_preference_file_omp): New function.
	(get_status): Always send the refresh interval, even when 0.

	* src/gsad_omp.h: Add headers accordingly.

	* src/html/omp.xsl (preference): Add file download button.
	(preference [details]): Name preference-details.  Add "config" param and
	file download button.
	(edit-config-preference): Rename param "config" to "for_config_details".
	Add param "config" and file download button.
	(preferences [details, edit-details]): Name preferences-details.  Add
	"config" param; pass through to preference-details and
	edit-config-preference.
	(html-config-nvt-table): Pass config through to preferences templates.

2010-05-11  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad.c (file_content_response): Check whether the requested path
	really is a regular file before trying to serve it as a file and
	report an error message if it is not.

2010-05-11  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad.c (init_validator): Improve validation to avoid formatting
	string attacks.

	* src/html/help.xsl (configure_manager_auth.html): Added need for %s
	in authdn parameter.

	* src/gsad_oap.c (modify_ldap_auth_oap): Added warning about %s in
	input string.

2010-05-11  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* src/gsad_oap.c (modify_ldap_auth_oap): Handle input validation
	failure case, communicate to user.

	* src/html/oap.xsl (get_users_response, modify_auth_response): Show
	result of modify_auth command (and input validation).

2010-05-11  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	Added handling of DESCRIBE_AUTH and MODIFY_AUTH oap commands.

	* src/gsad.c (init_validator): Added new modify auth and the important
	parameters authdn, ldaphost and enable to the validator.
	(gsad_connection_info): Added the parameters to req_parms struct.
	(serve_post): Fill the new parameters with chunks from request.
	(exec_omp_post): Handle modify_auth command, validate parameters,
	call new modify_ldap_auth_oap function.

	* src/gsad_oap.c (get_users_oap): Issue a DESCRIBE_AUTH when requesting
	users list.
	(modify_ldap_auth_oap): New. Implementation of new MODIFY_AUTH command.

	* src/gsad_oap.h (modify_ldap_auth_oap): Added proto.

	* src/html/help.xsl (configure_manager_auth.html): Added stub for
	help of new elements.

	* src/html/oap.xsl (get_users_response): Match describe_auth response.
	(group, describe_auth_response): Added window showing the and allowing
	modification of authentication settings, if any.

2010-05-10  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/gsad_omp.c (save_user_oap): Send an empty HOSTS to set "Allow All".

2010-05-10  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (task): Grey the stop button for "Internal Error".

2010-05-10  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (status_bar): Add progress bar and percentage for
	paused and stopped tasks.

2010-05-10  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/img/pause.png, src/html/img/pause_inactive.png: New files.

	* src/CMakeLists.txt: Install pause images.

2010-05-07  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/help.xsl (tasks.html): Add pausing states and pause action.

2010-05-07  Matthew Mundell <matthew.mundell@greenbone.net>

	Add pausing of tasks.

	* src/html/omp.xsl (status_bar): Add pausing states.
	(pause_task_response, resume_paused_task_response): New templates.
	(task): Show pause button for requested and running tasks.  Show resume
	button for paused tasks.

	* src/gsad_omp.c (pause_task_omp, resume_paused_task_omp): New functions.

	* src/gsad_omp.h: Add headers accordingly.

	* src/gsad.c (init_validator, exec_omp_get): Add pausing commands.

2010-05-07  Michael Wiegand <michael.wiegand@greenbone.net>

	Handle requests to non-existent pages more gracefully.

	* src/gsad.c: Include gsad_base.h directly.
	(file_content_response): Display an error message if a logged-in user
	requests a file that does not exist instead of logging him out
	forcefully.
	(request_handler): Display an error message if the requested help page
	does not start with a valid character.

2010-05-07  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/gsad.xsl (error_dialog), src/html/help.xsl (glossary.html):
	Fixed broken links to get_status page.

2010-05-07  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad.c: Added define MAX_HELP_NAME_SIZE to limit the maximum
	length of the name of help "files" against resource exhaustion
	attacks.
	(request_handler): Test if the name of the requested help page starts
	with a valid character before even considering it. Duplicate and
	truncate it to fit MAX_HELP_NAME_SIZE. Removed superfluous handling of
	"#" character since it is not present in the request sent by the
	browser anyway.

2010-05-07  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	Added simple compile time syntax checks on the xsl files.

	* CMakeLists.txt: Lowercased a cmake command, check for xsltproc
	program.

	* src/CMakeLists.txt: Check xsl stylesheets with xsltproc, if found.

2010-05-07  Felix Wolfsteller <felix.wolfsteller@greenbone.net>

	* CMakeLists.txt, src/CMakeLists.txt: Lowercased cmake commands as in
	all other openvas modules, converted tab to whitespaces.

2010-05-07  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad.c (init_validator): Allow "@" and "." characters in LSC
	login. Allow "@" character in LSC password.

2010-05-06  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl, src/html/oap.xsl: Convert tabs to spaces.

2010-05-06  Matthew Mundell <matthew.mundell@greenbone.net>

	Make saving of file preferences conditional on a checkbox.

	* src/html/omp.xsl (edit-config-preference): Add checkbox to "file"
	preferences so that saving the file is optional.

	* src/gsad_omp.c (save_config_nvt_omp): Add files arg which lists files
	that must be updated.

	* src/gsad_omp.h: Update header accordingly.

	* src/gsad.c (req_parms): Add files array.
	(free_resources): Free files.
	(serve_post): Collect files.
	(exec_omp_post): Pass files to save_config_nvt_omp.

2010-05-06  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (preference [details]): Print "File attached."
	instead of the contents of file preferences.

2010-05-06  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (preference [preference]): Print "File attached."
	instead of the contents of file preferences.

2010-05-06  Matthew Mundell <matthew.mundell@greenbone.net>

	* src/html/omp.xsl (html-create-escalator-form): Add "threat level
	changed" condition.
	(escalator, escalator [details]): Add "threat level changed" handling.

2010-05-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/: Finally remove empty directory.

2010-05-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Move up the html files on directory in order to eliminate
	the unnecessary additional directory "src".

	* src/html/src/favicon.gif, src/html/src/gsad.xsl,
	src/html/src/gsa-style.css, src/html/src/help.xsl,
	src/html/src/IE6fixes.css, src/html/src/img,
	src/html/src/login, src/html/src/oap.xsl, src/html/src/omp.xsl:
	Moved to src/html/.

	* src/CMakeLists.txt: Adjusted paths.

2010-05-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c: Added ":" to hosts validator to allow
	IPv6 adresses.

2010-04-28  Hartmut Goebel <h.goebel@goebel-consult.de>

	* src/html/src/IE6fixes.css: Fixed: In reports IE6 did shift
	issues to the left more and more.

2010-04-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsa-style.css, src/html/src/omp.xsl,
	src/html/src/gsad.xsl, src/html/src/oap.xsl,
	src/html/src/IE6fixes.css, src/html/src/help.xsl: Made
	older Konqueror work again. Thanks to Hartmut Goebel
	for this proposed fix.

2010-04-23  Hartmut Goebel <h.goebel@goebel-consult.de>

	* src/html/src/gsad.xsl, src/html/src/help.xsl
	src/html/src/omp.xsl, src/html/src/oap.xsl,
	src/html/src/gsa-style.css, src/html/src/login/login.html ,
	src/CMakeLists.txt: Fixed: IE6 did not display some content
	elements at all and table headers were visually cluttered.

	* src/html/src/IE6fixes.css: New stylesheet (onyl used by IE6).

2010-04-22  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/gsad_omp.c (create_task_omp): Fixed syntax for schedule element
	when creating a new task.

2010-04-22  Michael Wiegand <michael.wiegand@greenbone.net>

	* src/html/src/gsad.xsl, src/html/src/help.xsl: Add default duration
	for links to the performance monitor.

2010-04-15  Michael Wiegand <michael.wiegand@greenbone.net>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/help.xsl: Updated version number.

2010-04-15  Michael Wiegand <michael.wiegand@greenbone.net>

	Preparing the gsa 1.0.0-beta6 release.

	* src/html/src/help.xsl: Updated version number.

	* CHANGES: Updated.

	* CMakeLists.txt: Added autogenerated files to
	CPACK_SOURCE_IGNORE_FILES.

	* doc/.built-html: Removed superfluous file.

2010-04-15  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help.xsl: Corrected the maximum comment length.
	(glossary.html): Added entry for schedule to glossary.
	(new_task.html): Added missing help for comment field, added help for
	schedule field.
	(reports.html): Updated help for report summary.

2010-04-14  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help.xsl (tasks.html): Updated help for tasks list with
	new features and elements.

2010-04-14  Michael Wiegand <michael.wiegand@intevation.de>

	Set the GSA to use UTC as timezone to stay consistent with the manager
	when scheduling.

	* src/gsad.c (main): Set timezone to UTC.

	* src/html/src/omp.xsl (html-create-schedule-form): Mark time as UTC.

	* src/html/src/gsad.xsl (html-gsa-logo): Mark time as UTC.

2010-04-14  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help.xsl (configure_escalators.html): Comments are
	not mandatory for escalators.

2010-04-14  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help.xsl (configure_schedules.html): Added help for
	scheduling.

2010-04-13  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help.xsl: Flush trailing whitespace.

2010-04-12  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/CMakeLists.txt: Fix some installation directives to
	make the login dialog appear properly.

2010-04-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/make_html, src/html/header.m4, src/html/template.m4,
	src/html/footer.m4: Removed.

	* src/CMakeLists.txt: Instead of insalling the build directory
	do direct installation.

2010-04-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsad.xsl: Changed URL for about page.

	* src/html/src/help.xsl: Added content of pages "about" and "gplv2".

	* src/html/src/about.htm4, src/html/src/gplv2.htm4: Removed.

2010-04-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Static help files are not necessary anymore.

	* src/html/make_html: Don't create directory "help".

	* src/html/src/help/view_report.htm4,
	src/html/src/help/scanconfig_nvt_details.htm4,
	src/html/src/help/scanconfig_editor_nvt.htm4,
	src/html/src/help/configure_targets.htm4,
	src/html/src/help/new_task.htm4,
	src/html/src/help/scanconfig_details.htm4,
	src/html/src/help/scanconfig_editor_nvt_families.htm4,
	src/html/src/help/scanconfig_editor.htm4,
	src/html/src/help/error_messages.htm4,
	src/html/src/help/scanconfig_family_details.htm4,
	src/html/src/help/configure_agents.htm4,
	src/html/src/help/tasks.htm4,
	src/html/src/help/notes.htm4,
	src/html/src/help/nvts.htm4,
	src/html/src/help/contents.htm4,
	src/html/src/help/reports.htm4,
	src/html/src/help/configure_scanconfigs.htm4,
	src/html/src/help/configure_credentials.htm4,
	src/html/src/help/feed_management.htm4,
	src/html/src/help/settings.htm4,
	src/html/src/help/performance.htm4,
	src/html/src/help/configure_escalators.htm4,
	src/html/src/help/configure_users.htm4,
	src/html/src/help/glossary.htm4, src/html/src/help/: Removed.

2010-04-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Patch contributed by Mareike Piechowiak <noplant@gmx.de>.

	This moves all help page content to XSL and thus allows
	to have user name and date in the header (which was not
	possible with the static files).

	* src/gsad.c (request_handler): Added handling of any URL
	with "/help/".

	* src/html/src/help.xsl: New. Contains all help texts
	of the .htm4 files.

	* src/html/src/gsad.xsl: Added inclusion of help.xsl.

2010-04-10 Stephan Kleine

	* src/CMakeLists.txt: Fix build with as-needed and remove duplicate lines.

2010-04-10 Stephan Kleine

	* CMakeLists.txt: Add support for out-of-source builds.

	* src/CMakeLists.txt: Add support for out-of-source builds.

2010-04-06  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/oap.xsl (html-feed-form): Display feed version.

2010-04-01  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/about.htm4: Make sure that supporters are in
	alphabetical order.

2010-04-01  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl (nvt): Display NVT tags if they are set.

2010-03-30  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (xsl_transform_omp): Add TIME to ENVELOPE.

	* src/gsad_oap.c (xsl_transform_oap): Add TIME to ENVELOPE.

	* src/html/src/gsad.xsl (html-gsa-logo): Add time under logout.
	(time): New template.
	(envelope): Pass time to html-gsa-logo.

2010-03-30  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_get): Add NULL guard for duration.

2010-03-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_schedules_omp, create_schedule_omp)
	(delete_schedule_omp): Add TIME to GET_SCHEDULES.

	* src/html/src/omp.xsl (opt): New template.
	(html-create-schedule-form): Create first time input via "opt" so that
	currect time is selected.

2010-03-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (edit_task): New function.  Body from edit_task_omp.  Add
	extra_xml arg.
	(edit_task_omp): Call through to edit_task.
	(save_task_omp): For comment or name error, put up the parameter error
	message on the edit_task page.

2010-03-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-edit-task-form): Make escalator editable.

	* src/gsad.c (init_validator): Add rule "escalator_id".
	(exec_omp_get): Pass escalator to save_task_omp.

	* src/gsad_omp.h: Update header accordingly.

	* src/gsad_omp.c (save_task_omp): Add schedule_id arg.  Include in
	MODIFY_TASK command.

2010-03-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-schedule-form): Remove minute units
	from period and duration.
	(html-edit-task-form): Add "(immutable)" to target and config input names.

2010-03-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (edit_task_omp): Add next and refresh_interval NULL
	checks.
	(save_task_omp): Remove refresh_interval NULL enforcement.

2010-03-28  Matthew Mundell <matthew.mundell@intevation.de>

	Add basic task editing.

	* src/html/src/gsad.xsl (autorefresh [html-header-meta]): Only add header
	if interval is above 0.

	* src/html/src/omp.xsl (html-task-table): Widen actions column.
	(html-edit-task-form, edit_task, modify_task_response): New templates.
	(task): Add edit task button.

	* src/gsad.c (init_validator): Add edit_task and save_task commands.
	(exec_omp_get): Add edit_task and save_task handling.

	* src/gsad_omp.c (edit_task_omp, save_task_omp): New functions.
	(get_status): Always send the refresh interval, even when 0.

	* src/gsad_omp.h: Add headers accordingly.

2010-03-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (gsad_newtask): Add comment entry.

	* src/gsad.c (exec_omp_post): Pass comment from request to
	create_task_omp.

2010-03-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-table): Add comment field.
	(task): Add comment under name.

2010-03-28  Matthew Mundell <matthew.mundell@intevation.de>

	Display schedule intervals in unit format.

	* src/html/src/omp.xsl (interval-with-unit): New template.
	(schedule): Call interval-with-unit for intervals.
	(schedule [details]): Display unit interval instead of just seconds.

2010-03-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-schedule-form): Add odd row
	background colours.  Switch period and duration input to time and unit
	dropdowns.
	(html-schedules-table): Remove "(s)" from period heading.
	(schedule): Include period months.  Add unit to period cells.  Shorten
	entire duration text.

	* src/gsad.c (init_validator): Add calendar_unit rule and duration_unit
	and period_unit aliases.
	(struct req_parms): Add duration_unit and period_unit.
	(free_resources): Free duration_unit and period_unit.
	(serve_post): Also pass units to create_schedule_omp.

	* src/gsad_omp.c (create_schedule_omp): Add period_unit and duration_unit
	args.  Add to CREATE_SCHEDULE request.

	* src/gsad_omp.h: Update header accordingly.

2010-03-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (schedule [details]): Add units to period and
	duration.

2010-03-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (schedule): Correct delete URL.

2010-03-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-schedule-form): Add "(optional)" to
	period and duration fields.

2010-03-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (schedule [details]): Get next_time for next time,
	instead of first_time.

2010-03-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-table): Get next time for "Next due",
	instead of name.

2010-03-24  Matthew Mundell <matthew.mundell@intevation.de>

	Add schedule input to "New Task" page.

	* src/gsad.c (struct req_parms): Add schedule_id.
	(free_resources): Free schedule_id.
	(serve_post): Pass schedule ID to create_task_omp.

	* src/gsad_omp.c (gsad_newtask): Also get schedules.
	(create_task_omp): Add schedule_id arg.  Send to Manager in CREATE_TASK.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/src/omp.xsl (schedule [newtask]): New template.
	(gsad_newtask): Add schedule field.

2010-03-23  Matthew Mundell <matthew.mundell@intevation.de>

	Add schedule creation.

	* src/gsad.c (init_validator): Add create_schedule command.
	Add validators for create_schedule.  Change duration to an
	"optional_number".
	(struct req_parms): Add params.
	(free_resources): Add param freeing.
	(serve_post): Add create_schedule handling.
	(exec_omp_get): Pass "0" to get_system_reports_omp if duration is empty.

	* src/gsad_omp.c (create_schedule_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/html/src/omp.xsl (html-create-schedule-form): Add schedule params.
	(get_schedules): Add call to html-create-schedule-form.

2010-03-22  Matthew Mundell <matthew.mundell@intevation.de>

	Complete support for removing schedules.

	* src/gsad.c (init_validator): Add delete_schedule command.
	(exec_omp_get): Handle command "delete_schedule".

	* src/gsad_omp.c (delete_schedule_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

2010-03-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (delete_note_omp): Remove openvas_server_close called
	before session is open.  Closes #1334 (http://bugs.openvas.org/1334).

2010-03-20  Stephan Kleine

	* src/CMakeLists.txt: Install gsad into ${SBINDIR} since it is a service.

2010-03-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-table): Add schedule.

2010-03-18  Matthew Mundell <matthew.mundell@intevation.de>

	Start list and details pages for schedules.

	* src/gsad_omp.c (get_schedule_omp, get_schedules_omp): New function.

	* src/gsad_omp.h: Add headers accordingly.

	* src/gsad.c (init_validator): Add get_schedule and get_schedules command.
	Add schedule_id validator.
	(exec_omp_get): Add get_schedule and get_schedules command handling.

	* src/html/src/omp.xsl (html-create-schedule-form, html-schedules-table)
	(create_schedule_response, delete_schedule_response, schedule)
	(schedule [details], get_schedule, get_schedules): New templates.

	* src/html/header.m4, src/html/src/gsad.xsl: Add "Schedules" menu item.

2010-03-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (task): Always grey resume and stop buttons for
	scheduled tasks.  Replace start button with scheduled button for scheduled
	tasks.

	* src/html/src/img/scheduled.png, src/html/src/img/scheduled_inactive.png:
	New files.  Created by Karl-Heinz Ruskowski.

2010-03-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/img/resume.png, src/html/src/img/resume_inactive.png: Make
	right margin wider.  Thanks to Karl-Heinz Ruskowski.

2010-03-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (DEFAULT_GSAD_PORT): Remove.
	(DEFAULT_GSAD_HTTP_PORT, DEFAULT_GSAD_HTTPS_PORT): New defines.
	(main): Use appropriate define for gsad_port, depending on http_only.

2010-03-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/help/scanconfig_details.htm4: Close tags properly.

2010-03-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (task): Use details button instead of list button
	for summary link.  Always enable this details button.
	(escalator [details], target [details], html-config-table): Use details
	button instead of list button for task summary link.

	* src/html/src/help/tasks.htm4: Make "Reports" section "Task Details".

	* src/html/src/help/scanconfig_details.htm4,
	src/html/src/help/scanconfig_editor.htm4: Switch to details button.

2010-03-15  Matthew Mundell <matthew.mundell@intevation.de>

	Complete last commit: Add Manager-side task resuming.

	* src/html/src/omp.xsl (resume_stopped_task_response): New template.
	(task): Add resume button.

2010-03-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add command resume_stopped_task.
	(exec_omp_get): Add resume_stopped_task handling.

	* src/gsad_omp.c (resume_stopped_task_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/html/src/help/tasks.htm4: Add Resume Task section.

	* src/html/src/img/resume.png, src/html/src/img/resume_inactive.png: New
	files.  Created by Karl-Heinz Ruskowski.

2010-03-08  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl: Enable all levels for report downloads in the
	task summary.

2010-03-08  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help/reports.htm4: Corrected image filenames.

2010-03-08  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (report): Add ITG and CPE to download formats.

2010-03-04  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_config_family_omp, get_config_family_omp)
	(get_config_nvt_omp): Add table qualifier to GET_NVT_DETAILS sort field.

2010-03-04  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (trend_meter): Get trend from OMP.

2010-03-04  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-03-04  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta5 release, part two.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated, added line missing from last commit.

	* ChangeLog: Corrected entry.

2010-03-04  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* CHANGES: Updated and improved a bit for beta4.

2010-03-04  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help/reports.htm4: Added help texts for ITG and CPE.

2010-03-04  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta5 release, part one.

	* ChangeLog: Restored lost entry.

	* CHANGES: Updated.

2010-03-04  Michael Wiegand <michael.wiegand@intevation.de>

	Add format for CPE inventory report.

	* src/html/src/omp.xsl (html-report-details): Add report format "CPE".

2010-03-03  Matthew Mundell <matthew.mundell@intevation.de>

	Add format for IT-Grundschutz (German FSI IT baseline protection) report.

	* src/gsad.c (init_validator): Relax "format" rule.

	* src/gsad_omp.c (get_report_omp): Relax report format check.

	* src/html/src/omp.xsl (html-report-details): Add report format "ITG".

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (DATE_2822_LEN): New define.
	(file_content_response): Add Last-Modified and Expires headers.

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_nvt_details): Add a help button.

	* src/html/src/help/nvts.htm4: New page.

	* src/html/src/help/contents.htm4: Link to NVT Details in NVT help.

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (wrap): Select substring correctly after wrap.

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-edit-note-form): Add NVT name row before
	constraint rows.

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-edit-note-form): Add details button.
	(note [details]): Correct alignment.

2010-03-02  Matthew Mundell <matthew.mundell@intevation.de>

	Add edit button to get_note page.

	* src/gsad.c (exec_omp_get): Add edit_note and save_note cases for
	get_note page.

	* src/gsad_omp.c (get_note): New function.  Body from get_note_omp.
	(get_note_omp): Wrap get_note.
	(save_note_omp): Add get_note page handling.

	* src/html/src/omp.xsl (note [details]): Add edit button.
	(get_note): Expect get_notes_response in a commands_response.

2010-02-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (serve_post): Use append_chunk_string to setup string request
	parameters.

2010-02-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (html-users-table): Sort by role then name.

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	Add notes help.

	* src/html/src/help/notes.htm4: New file.

	* src/html/src/help/view_report.htm4: Correct typo.  Add notes sections.
	Mention "Show notes" filter.

	* src/html/src/help/glossay.htm4: Add a note entry.  Improve the NVT
	entry a little.

	* src/html/src/help/reports.htm4: Add notes section.

	* src/html/src/help/contents.htm4: Add notes item.

	* src/html/src/omp.xsl (html-report-table): Link help to reports help.
	(note [details], html-notes-table): Link help to notes.html.

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note [details]): Label task and result in orphans,
	otherwise they show as "Any".

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note, note [nvt-details]): Mark orphans.

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (.issue_box_head): Remove stray colon.

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note-detailed): Use normal delete button.

2010-02-25  Matthew Mundell <matthew.mundell@intevation.de>

	Add note editing.

	* src/html/src/omp.xsl (html-edit-note-form, edit_note)
	(modify_note_response): New templates.
	(note, note [nvt_details], note-detailed): Add edit note button.

	* src/gsad.c (init_validator): Add edit_note and save_note commands.  Add
	hosts_opt, note_task_id and note_result_id rules.
	(exec_omp_get): Add edit_note and save_note handling.

	* src/gsad_omp.c (edit_note_omp, save_note_omp): New functions.

	* src/gsad_omp.h: Add headers accordingly.

2010-02-23  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result-detailed): Compare note count with 0
	instead of 1.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add DVI to "format".

	* src/gsad_omp.c (get_report_omp): Allow DVI as format.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note): Decrease max to 35 so NVT name always fits
	on a single line.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note-detailed): Put the "Last modified" line
	after the button float, so that Konqueror keeps the buttons inside the
	box.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Check the more specific
	option in most constraints instead of the general option.

2010-02-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Replace "All" with "Any".
	(note) [details]: Capitalise "any".

2010-02-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl (html-report-details): Prevent unnecessary
	wrapping.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (wrap): Handle the case of a single line that must
	wrap.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_get): Use fixed max_results values for notes.

	* src/html/src/omp.xsl (html-create-note-form): Remove max_results
	passthrough.
	(note-detailed, result-detailed): Remove max_results from requests.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (new_note_omp): Check all args.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_nvt_details): Only add notes table when there
	are notes.

2010-02-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add delete buttons on all note lists.

	* src/gsad.c (exec_omp_get): Call delete_note_omp according to page that
	must follow.

	* src/gsad_omp.c (get_nvt_details, get_status, get_note): New function.
	Bodies from _omp versions.
	(get_nvt_details_omp, get_status_omp, get_notes_omp): Call through to
	static functions.
	(delete_note_omp): Add more passthrough args, and next page arg.  Pass
	work to handler of next page.

	* src/gsad_omp.h: Update header accordingly.

	* src/html/src/omp.xsl (html-report-table): Pass next page to note
	template.
	(get_nvt_details_response): Remove.
	(get_nvt_details): New template.
	(note): Add next param.  Enable button.
	(note) [nvt-details]: Enable button.
	(get_notes): Expect entites in a commands_response.
	(note-detailed): Add next page to request.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_nvt_details_omp, get_status_omp, get_notes_omp): Add
	GET_NOTES sort fields.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-note-form): Refer to anchor in query.
	(note-detailed): Refer to anchor in delete_note query.
	(result-detailed): Add anchor.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result-detailed): Add notes button.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note-detailed): Add details button.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_status_omp): Request notes with task.

	* src/html/src/omp.xsl (html-report-table): Add notes window.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Extend the "port" rule to allow ports like
	"port-name (111/tcp)".

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details, report, task)
	(html-create-note-form, note-detailed, result-detailed): Pass the "notes"
	flag when requesting a report.  Preserve the notes flag across new_note
	and delete_note.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Test filters/notes directly
	instead of counting it.

2010-02-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-family-table): Count in
	get_nvt_details_response instead of all/get_nvt_details_response, in
	view case.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (.note_top_line): New style.

	* src/html/src/omp.xsl (note) [details]: Put note text in yellow box.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add a note details page.

	* src/gsad_omp.c (get_note_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/gsad.c (init_validator): Add get_note command.
	(exec_omp_get): Add get_note command handling.

	* src/html/src/omp.xsl (note): Enable details button.
	(note) [nvt-details]: Enable details button.
	(note) [details]: New template.
	(get_note): New template.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_nvt_details_omp): Also request notes for the NVT.

	* src/html/src/omp.xsl (get_notes_response): New template.
	(get_nvt_details_response): Add notes section.
	(note, html-notes-table): Replace OID column with text column.
	(note) [nvt-details]: New template.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add notes management page.

	* src/gsad_omp.c (get_notes_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/gsad.c (init_validator): Add get_notes command.
	(exec_omp_get): Add get_notes command handling.

	* src/html/src/omp.xsl (note, html-notes-table, get_notes): New templates.

	* src/html/header.m4, src/html/src/gsad.xsl: Add "Notes" menu item.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add note filtering in reports.

	* src/html/src/omp.xsl (html-report-details): Add "Show notes" checkbox.

	* src/gsad.c (init_validator): Add "notes" validator.
	(struct req_parms): Add notes.
	(free_resources): Add param freeing.
	(serve_post): Pass notes arg to create_note_omp.
	(exec_omp_get): Pass notes arg to report related functions.

	* src/gsad_omp.c (get_report_omp, new_note_omp, create_note_omp)
	(delete_note_omp) Add notes arg.

	* src/gsad_omp.h: Update headers accordingly.

2010-02-17  Matthew Mundell <matthew.mundell@intevation.de>

	Put result on "New Note" page.

	* src/html/src/omp.xsl (html-create-note-form): Add "Associated Result"
	section.
	(html-result-box): Remove.
	(new_note): Remove call to html-result-box.
	(note, result) [detailed]: Add template name.  Add note-buttons param to
	control display of note buttons.

	* src/gsad_omp.c (new_note_omp): Include result in response.

2010-02-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/img/new_note.png, src/html/src/img/delete_note.png,
	src/html/src/img/note.png: New files.

	* src/html/src/omp.xsl (note, result) [detailed]: Use new note images.

	* ChangeLog: Correct omp.xsl paths.

2010-02-16  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Fixed a typo regarding refresh
	intervals. When selecting 60 seconds, the GUI applied 60
	but showed 30.

2010-02-15  Matthew Mundell <matthew.mundell@intevation.de>

	Add note constraints.

	* src/gsad.c (init_validator): Add "port", "result_id" and "threat"
	validators.
	(struct req_parms): Add params.
	(free_resources): Add param freeing.
	(serve_post): Pass contraint args to create_note_omp.
	(exec_omp_get): Pass contraint args to new_note_omp.

	* src/gsad_omp.c (new_note_omp): Add constraint args.
	(create_note_omp): Add constraint args.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-create-note-form): Add contraint input.
	(new_note): Pass contraint values to new_note.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	Add adding of notes.

	* src/gsad.c (init_validator): Add create_note and new_note commands.
	Add "max_results" and "text" validators.
	(struct req_parms): Add params.
	(free_resources): Add param freeing.
	(append_chunk_string): New function.
	(serve_post): Add create_note handling.
	(exec_omp_get): Pass get_report params to delete_note_omp.  Add new_note
	handling.

	* src/gsad_omp.c (new_note_omp, create_note_omp): New function.
	(delete_note_omp): Add get_report params.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-create-note-form, html-result-box, new_note)
	(create_note_response): New templates.
	(note) [detailed]: Wrap note text.  Pass get_report params to delete_note.
	(result) [detailed]: Add "new note" button.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	Add removal of notes.

	* src/gsad.c (init_validator): Add delete_note command.  Add "note_id"
	validator.
	(exec_omp_get): Handle command "delete_note".

	* src/gsad_omp.c (delete_note_omp): New function.

	* src/gsad_omp.h: Add header accordingly.

	* src/html/src/omp.xsl (delete_note_response): New template.
	(note) [detailed]: Add delete button.

2010-02-12  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (note) [detailed]: New template.
	(result) [detailed]: Apply any notes.

	* src/html/src/gsa-style.css (.issue_box_box): Zero margin-bottom.
	(.note_box_box): New style.

	* src/gsad_omp.c (get_report_omp): Request notes.

2010-02-10  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (escalator) [details]: Remove greying of method
	background.

2010-02-08  Tim Brown <timb@openvas.org>

	* src/gsad.c: Fixed couple of leaks reported by cppcheck.

2010-02-05  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (wrap): Lower wrap column to 90.

2010-02-05  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-02-05  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta4 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-02-04  Matthew Mundell <matthew.mundell@intevation.de>

	Wrap lines of result descriptions during the XSL transform.

	* src/html/src/omp.xsl (wrap): New template.
	(result) [detailed]: Add PRE around description.  Filter description
	through wrap template.

	* src/html/src/gsa-style.css (.issue_box_box): Remove white-space and
	font-family.

2010-02-04  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl: Reconciled value of of increment with max value
	in exec_omp_get in gsad.c to repair pagination.

2010-02-03  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result) [detailed]: Remove PRE from description.

	* src/html/src/gsa-style.css (.issue_box_box): Add line wrapping, space
	preservation and PRE like font.

2010-02-01  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (lsc_credential) [details]: Remove colon from
	heading.

2010-02-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Made file entries have same length
	as text entries.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_status_response): Correct substring args.
	(html-create-lsc-credential-form): Add empty values to some empty inputs.

	* src/html/src/gsad.xsl (html-gsa-logo): Add image title.

	* src/gsad_oap.c (save_user_oap): Correct comment.
	(get_feed_oap): Correct message texts.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (describe_feed_response): Check for failure.
	(html-feed-form): Add details if sync in progress.  Correct button
	greying test.

2010-01-29  Matthew Mundell <matthew.mundell@intevation.de>

	* ChangeLog: Format last entry better.

2010-01-28  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_oap.c (create_user_oap, save_user_oap, delete_user_oap)
	(edit_user_oap, get_user_oapt_users_oap, get_feed_oap, sync_feed_oap)
	(get_settings_oap, edit_settings_oap, save_settings_oap): Use new
	library read_string function to access only the string of gnutls
	session.

	* src/gsad_omp (check_modify_config, gsad_newtask, get_status_omp)
	(create_lsc_credential_omp, get_lsc_credential_omp, create_agent_omp)
	(delete_agent_omp, create_escalator_omp, delete_escalator_omp)
	(get_escalator_omp, get_escalators_xml, test_escalator_omp)
	(create_target_omp, delete_target_omp, get_target_omp, get_targets_omp)
	(create_config_omp, import_config_omp, get_config_family_omp)
	(get_config_nvt_omp, get_report_omp, get_system_reports_omp): Use new
	library read_string function to access only the string of gnutls
	session.

2010-01-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (send_redirect_header)
	(create_http_authenticate_response): Add Expires and Cache-Control
	headers.
	(file_content_response): Use MHD defines for header names.

2010-01-28  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (file_content_response): Indent args.  Downcase @todos.
	Move fopen return check for default_file into block that does fopen.
	Add Expires and Cache-Control headers if path matches default_file.

2010-01-28  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (request_handler): Simplified conditional.

2010-01-27  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-01-27  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta3 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* README: Updated.

2010-01-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add option to run in chroot.  Most of work by Felix Wolfsteller.

	* src/gsad.c (file_content_response): Make file path relative.
	(drop_privileges): New function.
	(main): Add option --do-chroot.  Change into the state directory
	before starting the HTTP daemon, so that all paths can be relative.
	If --do-chroot is given, chroot into the state dir and drop
	privileges.  Move PID file creation to come before the chroot.

	* src/gsad_base.c (XSL_PATH): Make relative.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (request_handler): Collapse two conditionals with
	identical body.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Basic input checking when serving files. Set content type for images.

	* src/gsad_base.h: Added new content type (text/css).

	* src/gsad.c (gsad_add_content_type_header): Added new text/css
	content type.
	(file_content_response): Set content type and disposition, check url
	parameter to not contain "..".
	(request_handler): Pass content type and disposition to
	file_content_response.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (create_http_authenticate_response): New, extracted from
	(send_http_authenticate_header).
	(file_content_response): New, extracted from request_handler
	(request_handler): Call extracted function, use http_response code
	variable to store the response code instead of immediate sending
	responses.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c: Added TODOs.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Set content-type header for error pages.

	* src/gsad.c (send_response): Add content type header to response.
	(send_redirect_header, send_http_authenticate_header): Use
	libmicrohttpd macros.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Further removal of global variables, closing mem leaks.

	* src/gsad.c: Removed global variable content_disposition and
	response_size.
	(exec_omp_get): Added new parameter.
	(request_handler): Added local variables as replacements for the global
	ones, pass as new parameter to functions.

2010-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Switched from using dynamic strings as http header content-type field
	to static strings, resolving a mem leak and possible contention issues.
	Set the content-type header field for more responses, minor consistency
	improvements of response-building.

	* src/gsad_base.h: Introduced new enum "content_type".

	* src/gsad.c: Removed global content_type variable.
	(content_type_from_format_string): New function.
	(exec_omp_get): Added content type return parameter instead of
	modification of global variable from within function, updated call to
	export_config_omp.
	(gsad_add_content_type_header): New function to add content type
	header to responses.
	(request_handler): Adjusted doc, added TODO about weird
	function/comment, use new content_type, minor refactoring of response-
	building code blocks.
	(main): Adjusted comment, moved pointers to certificate and key into
	single block where they are used.

	* src/gsad_omp.c (delete_lsc_crendential_omp)
	(get_lsc_crendential_omp, save_config_family_omp, save_config_nvt_omp):
	Repaired doc.
	(export_config_omp, get_system_reports_omp, get_system_report_omp): Use
	new content_type.

	* src/gsad_omp.h: Adjusted protos.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated version number.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* CMakeLists.txt: Added files to ignore for source packaging.

2010-01-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Preparing the gsa 1.0.0-beta2 release.

	* src/html/src/about.htm4: Updated version number.

	* CHANGES: Updated.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Add options --alisten and --mlisten.

	* src/gsad_omp.c (manager_address): New variable.
	(omp_init): Add address argument.
	(is_omp_authenticated, manager_connect): Pass address to
	openvas_server_open.

	* src/gsad_omp.h: Update header accordingly.

	* src/gsad_oap.c (administrator_address): New variable.
	(oap_init): Add address argument.
	(administrator_connect): Pass address to openvas_server_open.

	* src/gsad_oap.h: Update header accordingly.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (gsad_address): New variable.
	(main): Add --listen option.  Pass address to MHD_start_daemon.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Neaten MHD_start_daemon calls.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_targets.htm4: Removed part about
	definition of ip-ranges and noted the cidr-netmask limit.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (serve_post): Own conditional for host parameter
	validation.
	(exec_omp_post): Validate host parameter
	(validate_hosts_parameter): Use gchar and respective function instead
	of char.

2010-01-26  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad.c (validate_hosts_parameter): New function, checks cidr
	netmasks.
	(serve_post): Call new validation function for hosts parameter.

2010-01-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (main): Add option --http-only.

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (get_report_omp): Do not close the server connection
	a second time in error case.

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/gsad_omp.c (get_report_omp): Just send the xml describing the
	report if xml report is requested.

2010-01-25  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_report_omp): If the format is XML send the plain
	XML, and if the format is NULL send the XSL transformed XML (that is,
	send the HTML page).

2010-01-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/help/configure_credentials.htm4,
	src/html/help/configure_targets.htm4,
	src/html/help/configure_users.htm4,
	src/html/help/glossray.htm4: Updated help.

2010-01-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (.gb_window_part_center)
	(.gb_window_part_center_error, .logo_l, .logo_r, .logout_panel): Set
	colours so that text shows up when images are off in the browser.

2010-01-22  Matthew Mundell <matthew.mundell@intevation.de>

	Remain on the task page after deleting the task's last report.

	* src/html/src/omp.xsl (html-report-table): Apply the report
	template explicitly.
	(report): Replace with body of get_status_response/task/report.  Go two
	up to get to the task ID.
	(get_status_response/task/report): Remove.
	(get_status_response): Determine if the reports are present by checking
	for task/reports instead of a task/report.
	(commands_response/get_status_response): Remove, redundant.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (redirect_pid): New variable.
	(gsad_cleanup): Kill redirect child in parent.
	(main): Set redirect_pid in parent.  Set SIGCHLD to SIG_IGN.  Remove
	pidfile creation from redirect child.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user) [edit]: Switch the modify_password values.

2010-01-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user): Account for "custom" access rules.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user) [edit]: Make the Host Access radios match
	the user's rights.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_post): Revert create_target hosts validator to
	"hosts".

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Make all alt's "Details" for details buttons.

2010-01-20  Matthew Mundell <matthew.mundell@intevation.de>

	Add user details page and editing of user details.

	* src/gsad.c (init_validator): Add "edit_user", "get_user" and "save_user"
	commands.  Add rule "modify_password".
	(struct req_parms): Add modify_password.
	(free_resources, serve_post): Add modify_password handling.
	(exec_omp_post): Add save_user command.
	(exec_omp_get): Add edit_user and get_user commands.

	* src/gsad_oap.c (save_user_oap, edit_user_oap, get_user_oap): New
	functions.

	* src/gsad_oap.h: Add headers accordingly.

	* src/html/src/oap.xsl (html-create-user-form): Order options
	alphabetically, and force selection of "User".
	(user): Add details and edit buttons.
	(user) [details] [edit]: New templates.
	(edit_user, get_user): New templates.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add user host access to user list.  Make "Allow All" possible when
	creating a user.

	* src/gsad.c (init_validator): Add "access_hosts" rule.  Add 2 to
	"hosts_allow".
	(struct req_parms): Add access_hosts.
	(free_resources, serve_post): Add access_hosts handling.
	(exec_omp_post): Pass access_hosts instead of hosts to create_user_oap.

	* src/gsad_oap.c (create_user_oap): Leave out HOSTS if hosts_allow is 2.

	* src/html/src/oap.xsl (html-create-user-form): Make "Host Access"
	mandatory, with a "Allow All" radio.
	(html-users-table): Add "Host Access" column.
	(user): Add host access details.

2010-01-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsad.xsl, src/html/src/about.htm4: Extending Copyright
	to 2010.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	Add setting of user host access.

	* src/gsad.c (init_validator): Add "hosts_allow" rule.
	(struct req_parms): Add hosts_allow.
	(free_resources, serve_post): Add hosts_allow handling.
	(exec_omp_post): Pass hosts and hosts_allow to create_user_oap.

	* src/gsad_oap.c (create_user_oap): Add HOSTS to CREATE_USER according to
	new args hosts and hosts_allow.

	* src/gsad_oap.h: Update header accordingly.

	* src/html/src/oap.xsl (html-create-user-form): Add "Host Access" input.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (exec_omp_post): Make create_user "name" a "login".

	* src/html/src/oap.xsl (html-create-user-form): Relabel "Name" as
	"Login Name", and make the input name "login".

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add \ to credential_login characters.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (user): Grey delete button for current user.

2010-01-19  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add \ to lsc_password characters.

2010-01-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/oap.xsl (scanner_settings): Only enable edit button if
	settings are editable.

2010-01-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_status_response)
	(commands_response/get_status_response): Add error check.

	* src/html/src/oap.xsl (get_settings_response): Indent by 2 like rest.

2010-01-14  Matthew Mundell <matthew.mundell@intevation.de>

	Add editing of scanner settings.

	* src/gsad.c (init_validator): Add commands "edit_settings" and
	"save_settings".
	(exec_omp_post): Add command "save_settings".
	(exec_omp_get): Add command "edit_settings".

	* src/gsad_oap.c (edit_settings_oap, save_settings_oap): New functions.

	* src/gsad_oap.h: Add headers accordingly.

	* src/html/src/oap.xsl (scanner_settings): Add edit button.
	(scanner_settings, setting, get_settings_response) [edit]: New templates.
	(get_settings, edit_settings): New templates.

2010-01-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/about.htm4: Added supporters with their logos.

	* src/html/src/img/bsi-logo.png, src/html/src/img/gb-logo.png,
	src/html/src/img/intevation-logo.png: New.

2010-01-13  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_oap.c (sync_feed_oap): Add DESCRIBE_FEED to COMMANDS so that
	the sync result comes back on the Feed Management page.

2010-01-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/scanconfig_familiy_details.htm4,
	src/html/scanconfig_editor.htm4,
	src/html/scanconfig_editor_nvt_families.htm4,
	src/html/src/help/scanconfig_details.htm4,
	src/html/src/help/scanconfig_family_details.htm4: Added links to other
	help pages.

	* src/html/src/help/scanconfig_editor_nvt.htm4: New. Accidentally
	ommitted in last commits. Contains help texts regarding
	Scan Config NVT Editor.

2010-01-12  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/contents.htm4: Indention for subgroups.
	Added a link for each separate file.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/scanconfig_familiy_details.htm4: New. Contains
	help texts regarding Family Details Viewing functionality.

	* src/html/src/help/scanconfig_nvt_details.htm4: New. Contains help
	texts regarding NVT and NVT Preference Viewing functionality

	* src/html/src/omp.xsl: Added links to new help pages.

2010-01-12  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

2010-01-12  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 1.0.0-beta1 release.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

	* CHANGES: New.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Minor help improvements and fixes.

	* src/html/src/help/scanconfig_editor.htm4: Fixed link.

	* src/html/src/help/scanconfig_editor_nvt_families.htm4: Added links
	to glossary.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added help and some fixes.

	* src/html/src/help/scanconfig_editor_nvt_families.htm4: New. Contains
	help texts regarding Scan Config Editors Family Details functionality.

	* src/html/src/help/scanconfig_editor.htm4: Fixed closing tags, added
	note about non-modificatability of scan configs in use.

	* src/html/src/help/scanconfig_details.htm4: Fixed/Added missing quote.

	* src/html/header.m4: Added macros for details and edit icons.

	* src/html/src/omp.xsl: Added link to new help page.

2010-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added help.

	* src/html/src/help/scanconfig_editor.htm4: Updated with help
	texts describing the Scan Config Editor functionality.

	* src/html/src/help/scanconfig_details.htm4: Added alt and title
	parameters to icons, corrected heading.

	* src/html/src/omp.xsl: Added link to new help page.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	Add text phrase filtering to report results.

	* src/html/src/gsa-style.css (table.odd): New style.

	* src/gsad.c (init_validator): Add rule "search_phrase".
	(exec_omp_get): Pass search_phrase to get_report_omp.

	* src/gsad_omp.c (get_report_omp): Add argument search_phrase.

	* src/gsad_omp.h: Update headers accordingly.

	* src/html/src/omp.xsl (html-report-details): Add test phrase filter to
	threat filter.  Grey background of both.  Remove threat filter
	"Current View" and rename "New Filter" to "Threat".

	* src/html/src/help/reports.htm4: Try improve some descriptions.  Correct
	typos.  Describe text phrase filtering.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (request_handler): Pass gsize to get_system_report_omp.

2010-01-11  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help.

	* src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_escalators.html4,
	src/html/src/help/configure_targets.htm4: Updated with "details"
	section.

	* src/html/src/omp.xsl: Link from pages to new help texts.

2010-01-11  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (result) [detailed]: Add NVT name.

2010-01-11  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Updating help.

	* src/html/src/help/tasks.htm4: Added section on auto-refresh.

	* src/html/src/help/contents.htm4: Added more link.
	Ordered according to user interface.

	* src/html/src/help/configure_scanconfigs.htm4: Fixed links.

	* src/html/src/help/scanconfig_editor.htm4: New.

	* src/html/src/help/configure_escalators.htm4: Added section
	on test escalator.

2010-01-09  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsa-style.css (small_inline_form): New style.

	* src/html/src/omp.xsl (html-task-table): Neaten indentation.  Put the
	form inside a small_inline_form div.  Remove the font-size and display
	styles from the form and select.
	(html-create-escalator-form): Alternate background colours of rows.
	(create_config_response): Only print details if a config was created and
	there's a config/name in the response.

	* src/html/src/help/reports.htm4: Correct phrase.

2010-01-09  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (get_system_reports): Add failure message.

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/help/performance.htm4: New file.

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (create_lsc_credential_omp): Add check for password
	validation failure.

	* src/gsad.c (init_validator): Add rule "lsc_password".
	(exec_omp_post): Verify create_lsc_credential_omp password with
	"lsc_password".

2010-01-08  Matthew Mundell <matthew.mundell@intevation.de>

	Add HTTP to HTTPS redirection.

	* src/gsad.c (DEFAULT_GSAD_REDIRECT_PORT, MAX_HOST_LEN): New defines.
	(redirect_location): New variable.
	(redirect_handler): New function.
	(main): Add options --rport and --redirect.  If --redirect is present then
	fork an HTTP server that redirects any request to the HTTPS server.

2010-01-07  Matthew Mundell <matthew.mundell@intevation.de>

	Add performance reports page.

	* src/gsad_omp.c (get_system_reports_omp, get_system_report_omp): New
	function.

	* src/gsad_omp.h: Add headers accordingly.

	* src/gsad.c (init_validator): Add get_system_reports command.  Add rule
	"duration".
	(exec_omp_get): Add get_system_reports command handling.
	(request_handler): Add system report image response.

	* src/html/src/omp.xsl (system_report, get_system_reports): New templates.

	* src/html/header.m4, src/html/src/gsad.xsl: Add "Performance" menu item.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_scanconfigs.htm4: Added help text about
	import and export scan configs, removed text about importing openvasrc.

	* src/html/src/omp.xsl: Link to new help section.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Resolved compile issues on 64bit systems.

	* src/gsad.c (serve_post): Cast size_t to int (.* format expects
	integer).

2010-01-06  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (create_config_response): Pass config name in
	result details.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/omp.xsl: Fixed TODO: pre-select the chosen refresh
	interval in task overview table.

2010-01-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Corrected libopenvas version check.

	* ChangeLog: Corrected date.

2010-01-05  Matthew Mundell <matthew.mundell@intevation.de>

	Add XML config importing.  Remove RC file importing.

	* src/gsad_omp.c (create_config_omp): Remove RC file handling.
	(import_config_omp): New function.
	(export_config_omp): Use GET_CONFIGS export attribute.

	* src/gsad_omp.h: Update headers accordingly.

	* src/gsad.c (init_validator): Add import_config command.  Remove rule
	"rcfile".  Add rule "xml_file".
	(struct req_parms): Remove rcfile.  Add xml_file.
	(free_resources, serve_post, exec_omp_post): Remove rcfile handling.  Add
	xml_file handling.
	(exec_omp_get): Handle command import_config.

	* src/html/src/omp.xsl (html-create-config-form): Remove RC import option.
	(html-import-config-form): New template.
	(get_configs_response): Call html-import-config-form.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added basic auto-refresh functionality for the tasks table.

	* src/gsad.c (init_validator): Added new "number" and refresh_interval
	entries, sorted.
	(exec_omp_post): Pass new parameter to get_status_omp.
	(exec_omp_get): Minor formatting, read passed refresh_interval request
	parameter, validate and pass it to get_status_omp.

	* src/gsad_omp.c (get_nvt_details_omp): Added parameter and pass new
	<autorefresh> element to the xsl transformation.
	(create_lsc_credential_omp): Analogous to get_nvt_details_omp, allocate
	GString only when needed.

	* src/gsad_omp.h (get_nvt_details_omp): Adjusted header.

	* src/html/src/gsad.xsl: Added handling of new <auto_refresh> element.

	* src/html/src/omp.xsl: For the tasks table case, added a form to chose
	the refresh interval. Added TODO about pre-selecting the selected value
	after a refresh happened.

	* src/html/make_html: Removed second newline at end of file.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Corrected version check for libopenvas, required
	version is now 3.0.1.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Added clumsy libopenvas required version check and
	TODO regarding possible improvements.

2010-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Lowercased some cmake commands.

2010-01-04  Matthew Mundell <matthew.mundell@intevation.de>

	Add config exporting.

	* src/gsad_omp.c (export_config_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add export_config command.
	(exec_omp_get): Handle command export_config.

	* src/html/src/omp.xsl (config): Add an export button.

2010-01-04  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Add email rule.
	(escalator_data): New function.
	(exec_omp_post): Check email addresses.

	* src/html/src/omp.xsl (html-create-escalator-form): Match email length to
	validator.

2009-12-31  Matthew Mundell <matthew.mundell@intevation.de>

	Add test escalator buttons to the escalators page.  Add "From
	Address" to escalator email input.

	* src/gsad_omp.c (get_escalators_xml, test_escalator_omp): New functions.
	(get_escalators_omp): Call get_escalators_xml.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add test_escalator command.
	(exec_omp_get): Handle command test_escalator.

	* src/html/src/omp.xsl (html-create-escalator-form): Add "From
	Address" field.  Rename "Message" to "Format".
	(escalator): Add test button.  Add "To" to before address.
	(test_escalator_response): New template.
	(escalator mode=details): Add from address.
	(get_escalators): Apply test_escalator_response.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Updated help texts.

	* src/html/src/configure_agents.htm4,
	src/html/src/configure_credentials.htm4,
	src/html/src/configure_targets.htm4: Updated.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/omp.xsl: Link help from scanconfig details page.

	* src/html/src/help/scanconfig_details.htm4: New.

	* src/html/src/help/configure_scanconfigs.htm4: Slightly improved, link
	to new help page.

2009-12-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* ChangeLog: Corrected paths.

	* src/html/src/help/configure_escalators.htm4: New.

	* src/html/src/help/configure_scanconfigs.htm4,
	src/html/src/help/glossary.htm4,
	src/html/src/help/new_task.htm4,
	src/html/src/help/tasks.htm4,
	src/html/src/help/view_report.htm4: Updated new and changed options.

2009-12-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/tasks.htm4: Added information to
	status "Stopped".

2009-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/src/help/configure_agents.htm4,
	src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_targets.htm4,
	src/html/src/help/configure_users.htm4,
	src/html/src/help/tasks.htm4: Fixed typo.

2009-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Adjusted todo, as check for libmicrohttpd is already
	done.

	* src/CMakeLists.txt: Declared libraries as static.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/help/contents.htm4: Add a "you".

	* src/html/src/help/tasks.htm4: Correct a few typos.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Clean and add some todos and comments.
	(exec_omp_post): Format strcmp like others.
	(free_resources): Remove NULL checks from around frees.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (nvt, get_nvt_details_response): Match to other
	details pages.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	Add a escalator details page.

	* src/gsad_omp.c (get_escalator_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_escalator command.
	(exec_omp_get): Handle command get_escalator.

	* src/html/src/omp.xsl (html-report-table): Link escalator to details.
	(escalator): Add details button.
	(escalator mode=details, get_escalator): New templates.

2009-12-29  Matthew Mundell <matthew.mundell@intevation.de>

	Handle the OMP MODIFY_CONFIG "config in use" error with a small error
	dialog instead of a generic big dialog.

	* src/gsad_omp.c (check_modify_config): New function.
	(save_config_omp, save_config_family_omp, save_config_nvt_omp): Call
	check_modify_config instead of check_response to check response.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add a credential details page.

	* src/gsad_omp.c (get_lsc_credential_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_lsc_credential command.
	(exec_omp_get): Handle command get_lsc_credential.

	* src/html/src/omp.xsl (target): Link credential to details.
	(target mode=details): Correct element name.  Link credential to details.
	(lsc_credential): Add details button.
	(lsc_credential mode=details, get_lsc_credential): New templates.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	* ChangeLog: Repair after last commit.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-create-escalator-form): Add 'Threat level
	at least' condition.
	(escalator): Print level with 'Threat level at least' condition.

2009-12-27  Matthew Mundell <matthew.mundell@intevation.de>

	Add a target details page.

	* src/gsad_omp.c (get_target_omp): New function.

	* src/gsad_omp.h: Add header.

	* src/gsad.c (init_validator): Add get_target command.
	(exec_omp_get): Handle command get_target.

	* src/html/src/omp.xsl (html-report-table): Link target to details.
	(target): Add details button.
	(target mode=details, get_target): New templates.

2009-12-24  Matthew Mundell <matthew.mundell@intevation.de>

	Add Escalators.

	* src/gsad.c (init_validator): Add escalator commands.  Add "condition",
	"escalator", "event" and "method" validators.
	(struct req_parms): Add fields for escalator commands.
	(free_resources): Init escalator resources.
	(serve_post): Check and setup escalator keys.
	(exec_omp_post): Handle command "create_escalator".  Pass escalator to
	create_task_omp.
	(exec_omp_get): Handle commands "delete_escalator" and "get_escalators".

	* src/gsad_omp.c (gsad_newtask): Also get escalators.  Correct two error
	message strings.
	(create_task_omp): Add escalator arg.
	(send_escalator_data, create_escalator_omp, delete_escalator_omp)
	(get_escalators_omp): New functions.

	* src/gsad_omp.h: Add and update headers accordingly.

	* src/html/src/omp.xsl (html-report-table): Add escalator link.
	(escalator, html-create-escalator-form, html-escalators-table)
	(create_escalator_response, delete_escalator_response)
	(escalator, get_escalator): New templates.
	(gsad_newtask): Add escalator selector.

	* src/html/src/gsad.xsl (html-gsa-navigation): Add Escalators menu item.

	* src/html/src/help/contents.htm4: Add Escalators menu item.

	* src/html/headers.m4: Add Escalators menu item.

2009-12-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_omp.h: Updated according to last commit.

2009-12-22  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.c (get_agents_omp): Change result_len to gsize.

2009-12-22  Michael Wiegand <michael.wiegand@intevation.de>

	Fixed variable types for 64bit compatibility in Base64 decoding.

	* src/gsad_omp.c (get_lsc_credentials_omp): Changed result_len to gsize.
	(get_report_omp): Changed report_len to gsize.

	* src/gsad_omp.h: Updated.

	* src/gsad.c: Changed response_size and header_auth_decoded_len to
	gsize.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* CMakeLists.txt: Updated version number.

	* src/html/src/about.htm4: Updated.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 0.8.3 release.

	* src/html/src/about.htm4: Updated.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* CMakeLists.txt: Don't ignore necessary files when creating the source
	tarball.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/help/contents.htm4: Added agent help to help contents.

2009-12-21  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/agent.png: New.

2009-12-21  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/oap.xsl: Include settings error message if there is one.
	Make sure filename is correctly aligned, even in Konqueror.

2009-12-21  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (append_chunk_binary): New function.
	(serve_post): Use append_chunk_binary for binary keys.
	(request_handler): Move authentication check down into GET and POST cases.
	Only authentication for the first chunk of a POST request.

	* src/html/src/omp.xsl (html-create-agent-form): Comment out the HOWTOs.

2009-12-18  Matthew Mundell <matthew.mundell@intevation.de>

	Enable agent download button.

	* src/gsad.c (init_validator): Add "agent_format".
	(struct req_parms): Add fields for agent installer and HOWTO.
	(free_resources): Free installer and HOWTO fields.
	(serve_post): Fill installer and HOWTO fields.
	(exec_omp_post): Pass installer and HOWTO fields to create_agent_omp.
	(exec_omp_get): Expect format in request parameter "agent_format"
	instead of in "package_format".  Switch MIME type to
	application/octet-stream.

	* src/gsad_omp.c (create_agent_omp): Add installer and HOWTO args.  Encode
	installer and HOWTO before sending.

	* src/gsad_omp.h: Update header.

	* src/html/src/omp.xsl (agent): Enable single download button.

	* src/html/src/help/configure_agents.htm4: Correct typo.  Use agent.png.
	Close comment.

	* src/CMakeLists.txt: Neaten heading description.

2009-12-18  Matthew Mundell <matthew.mundell@intevation.de>

	* src/CMakeLists.txt: Remove HEADERS_TEMP and LIBS_TEMP as the OpenVAS
	flags are provided by other variables.  Set OpenVAS compile flags on
	gsad_omp and gsad_oap.

2009-12-18  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Add an agents page.

	* src/gsad.c (init_validator, exec_omp_post, exec_omp_get): Added
	handling for agents.

	* src/gsad_omp.c (create_agent_omp, delete_agent_omp)
	(get_agents_omp): New functions.

	* src/gsad_omp.h: Added according protos.

	* src/html/src/omp.xsl (html-create-agent-form, html-agents-table)
	(create_agent_response, delete_agent_response, agent, get_agents_response)
	(agents_response): New templates.

	* src/html/src/gsad.xsl, src/html/header.m4: Added link to agents.

	* src/html/src/help/configure_agents.htm4: New.

2009-12-18  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt, src/CMakeLists.txt: Added checks for gnutls, libxml
	and libxslt. Tried to use "elegant" cmake mechanisms to add the
	respective linker and compiler flags, but failed.
	Todo with link to workaround added.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-table): Bold name.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	Improve cross referencing.

	* src/html/src/omp.xsl (html-report-table): Add config and target to
	summary.
	(target): Link credential to credentials page.
	(html-config-table): Add section "Tasks using this Config".

2009-12-17  Michael Wiegand <michael.wiegand@greenbone.net>

	Added support for retrieving settings from the openvas-admininistrator.

	* src/gsad.c (init_validator): Added get_settings to the list of
	valid commands, fixed sorting of commands.
	(exec_omp_get): Added handling of get_settings command.

	* src/gsad_oap.c (get_settings_oap): New function to handle
	get_settings.

	* src/gsad_oap.h: Updated.

	* src/html/src/oap.xsl: Added handling of get_settings_response.

	* src/html/src/gsad.xsl: Added new menu item.

	* src/html/src/help/contents.htm4: Added new list item.

	* src/html/src/help/settings.htm4: New.

	* src/html/header.m4: Added new menu item.

2009-12-17  Matthew Mundell <matthew.mundell@intevation.de>

	Add sort buttons for task and status to the get_status page.

	* src/html/src/omp.xsl (sort): New template.
	(html-task-table): Add task and status sort buttons.

	* src/gsad.c (init_validator): Add '_' to sort_field.
	(exec_omp_post): Pass sort field and order to get_status_omp.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Use versioning mechanism as in the other OpenVAS CMake-based projects,
	added files and targets to generate documentation.

	* VERSION.in: New.

	* VERSION: Removed, will be generated by CMake.

	* doc/, doc/Doxyfile.in, doc/Doxyfile_full.in, doc/CMakeLists.txt,
	doc/.built-html: New, files to be used to generate documentation using
	doxygen.

	* CMakeLists.txt: Added versioning and documentation mechanism from
	openvas-manager.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Fixed formatting by adding missing quotes.

2009-12-17  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Make report filter dialog
	look nicer in Konqueror.

2009-12-17  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (exec_omp_get): Maximum result count back down
	to 1000 as we have pagination acticated.

2009-12-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Use pkg-config module to check for correct
	libmicrohttpd version.

	* src/CMakeLists.txt: Added TODOs to check for other libraries using
	the same mechanism as in the top-level CMakeLists.txt and to use
	the proper variables at compiling and linking step.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c (init_validator): Increase credential_login max size to 40.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Align table better.  Move
	per-host summary into filtered results.  Add a summary of total threat
	counts.  Rename the "Results per Host" window "Filtered Results".

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-report-details): Only display result range
	and result headings when there are results.  Add first_result to download
	URL.

2009-12-16  Matthew Mundell <matthew.mundell@intevation.de>

	Separate credential name from credential login name.

	* src/gsad.c (init_validator): Add credential_login.
	(struct gsad_connection_info): Add req_parms.credential_login.
	(free_resources): Free credential login.
	(serve_post): Check for credential_login key.
	(exec_omp_post): In create_lsc_credential case pass credential_login to
	create_lsc_credential_omp.

	* src/gsad_omp.c (create_lsc_credential_omp): Add login arg.  Send to
	manager as login entity.

	* src/gsad_omp.h: Update header.

	* src/html/src/omp.xsl (html-create-lsc-credential-form): Add Login field.
	(html-lsc-credentials-table): Add Login heading.
	(lsc_credential): Add Login column.

2009-12-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Order authors alphabetically by surname.

	* ChangeLog: Improve formatting.

2009-12-15  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad.c: Correct doc.  Neaten comments.  Format strcmp conditionals
	consistently.

2009-12-10  Michael Wiegand <michael.wiegand@intevation.de>

	* src/gsad.c (exec_omp_get): Increased maximum result count.

2009-12-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* src/html/header.m4: Adjusted menu to dynamic pages. (use plural
	"Scan Configs").

2009-12-08  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.8.3.SVN.

	* CMakeLists.txt: Updated CPACK_PACKAGE_VERSION_PATCH.

	* src/html/src/about.htm4: Updated.

2009-12-08  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the gsa 0.8.2 release.

	* VERSION: Set to 0.8.2.

	* CMakeLists.txt: Updated CPACK_PACKAGE_VERSION_PATCH.

	* src/html/src/about.htm4: Updated.

2009-12-07  Michael Wiegand <michael.wiegand@intevation.de>

	Fixed a bug which caused the GSA to hang or crash when editing the
	configuration for a family containing ":".

	* src/gsad.c (init_validator): Added / fixed regular expressions for
	family names.
	(exec_omp_post): Repaired validator usage.

2009-12-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Improved checks for pkg-config and libopenvas-config,
	Intention was to first collect missing tools and then report on them to
	avoid configure-install cycles.

2009-12-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* CMakeLists.txt: Added checks for pkg-config and libopenvas-config.

2009-12-03  Michael Wiegand <michael.wiegand@intevation.de>

	Added initial NVT feed synchronization support.

	* src/gsad.c (init_validator): Mark get_feed and sync_feed as valid
	commands.
	(exec_omp_post): Add handling of sync_feed command.
	(exec_omp_get): Add handling of get_feed command.

	* src/gsad_oap.c: Added functions for getting the description of a feed
	and for synchronization with a feed.
	(get_feed_oap, sync_feed_oap): New.

	* src/gsad_oap.h: Updated header.

	* src/html/src/gsad.xsl, src/html/src/help/contents.htm4,
	src/html/header.m4: Add menu item for feed management.

	* src/html/src/oap.xsl: Add support for new response types.

	* src/html/src/help/feed_management.htm4: New.

2009-12-03  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/make_html: Fix grep for static files to exclude
	SVN elements.

2009-12-03  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (REALM, POST_BUFFER_SIZE, FILE_NOT_FOUND,
	ERROR_PAGE, SERVER_ERROR, content_type, content_disposition,
	response_size, log_config, verbose): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (exec_omp_post, exec_omp_get): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (serve_post): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (free_resources, check_is_dir): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_connection_info, get_header_credentials)
	(is_http_authenticated, file_reader, get_file_size): New.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (print_header, send_response)
	(send_http_authenticate_header, request_handler): Improve documentation.
	(request_handler): Use "const" where possible. Introduce
	oap_cgi_base. Improve redirect for non-base URLs. Redirect
	"/login/". Fix memleak.
	(gsad_init): Improve documentation. Call init_validator.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c: Fixed some comments. Added list of includes.
	(DEFAULT_GSAD_PORT, DEFAULT_OPENVAS_ADMINISTRATOR_PORT)
	(DEFAULT_OPENVAS_MANAGER_PORT, GCRY_THREAD_OPTION_PTHREAD_IMPL)
	(gsad_daemon, validator, init_validator): New.
	(main): Use unified exit code. Improved comments.

2009-12-02  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Fixed comment.

	* src/CMakeLists.txt: Reformatted.

2009-12-02  Michael Wiegand <michael.wiegand@intevation.de>

	* src/html/src/omp.xsl: Make 'Full and fast' accessible again as a scan
	config template.

2009-12-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.2.SVN.

2009-12-01  Michael Wiegand <michael.wiegand@intevation.de>

	Add support for new empty scan config template.

	* src/html/src/omp.xsl: Switch default to 'empty'.

	* src/gsad_omp.c (create_config_omp): Switch default to 'empty'.

2009-12-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/omp.xsl: Grey out Stop/Delete in case a Task is "Requested".

2009-11-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_omp.h, src/gsad_omp.c: New files.

	* src/CMakeLists.txt: Add static analysis rules.

2009-11-27  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl (html-config-nvt-table): Always show the
	preferences, as there is always the timeout preference.

2009-11-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.1.SVN.

2009-11-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/header.m4, src/html/footer.m4, src/html/template.m4: New.

	* src/html/make_html: New.

	* src/html/src/login/login.html,
	src/html/src/help/error_messages.htm4: New.

2009-11-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Match input widths to validator widths.
	(get_targets): Apply gsad_msg.

2009-11-26  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/omp.xsl: Convert tabs to spaces.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	Add per-NVT timeout support.

	* src/html/src/omp.xsl (html-config-family-table): Add timeout column.
	Always enable the NVT edit button.
	[details, edit-details] (preferences): Add always-present timeout
	preference.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/gsad_base.c (gsad_message): Add function and line arguments.  Free
	the allocated XML.

	* src/gsad_base.h: Update header.

	* src/gsad_oap.c: New file.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsad.xsl, src/html/src/omp.xsl, src/html/src/oap.xsl:
	Convert tabs to spaces.

2009-11-24  Matthew Mundell <matthew.mundell@intevation.de>

	* src/html/src/gsad.xsl, src/html/src/omp.xsl, src/html/src/oap.xsl: New
	files.

2009-11-21  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt, src/html/src/about.htm4: Version set
	to 0.8.0.SVN.

	* src/gsad_base.h (preference_t): New.

	* src/gsad_oap.h: Updated proto for get_users_oap.

2009-11-07  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/gsa-style.css, src/html/src/help/view_report.htm4: New.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_base.h, src/gsad_base.c: Cleanups and documentation.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/reports.htm4: New.

	* src/validator.c (openvas_validator_alias): New.
	(openvas_validate): Some more tracef-calls.

	* src/validator.h: Add proto accordingly.

2009-11-06  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	*  src/html/src/about.htm4, src/html/src/gplv2.htm4: New.

	* src/html/src/img/edit_inactive.png,
	src/html/src/img/ascending_inactive.png, src/html/src/img/edit.png,
	src/html/src/img/descending_inactive.png: New.

2009-11-04  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/descending.png, src/html/src/img/ascending.png: New.

2009-10-31  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/validator.c: New.

2009-10-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/download.png, src/html/src/img/bullet2.png,
	src/html/src/img/bullet.png, src/html/src/img/alert_sign.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Some cosmetics.

	* src/gsad_base.h: Updated protos and added message string.

	* src/gsad_base.c (xsl_transform): Take only xml text now
	instead of files for xml and xsl.
	(gsad_message): New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/tasks.htm4, src/html/src/help/contents.htm4,
	src/html/src/help/glossary.htm4: New.

	* src/html/src/img/high_big.png, src/html/src/img/medium_big.png,
	src/html/src/img/none_big.png, src/html/src/img/low_big.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/list_inactive.png, src/html/src/img/list.png,
	src/html/src/img/log.png, src/html/src/img/gsa_splash.png,
	src/html/src/img/low.png, src/html/src/img/high.png,
	src/html/src/img/medium.png: New.

2009-10-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/style/, src/html/src/img/style/logo_l.png,
	src/html/src/img/style/logo_m.png, src/html/src/img/style/logo_r.png,
	src/html/src/img/style/window_dec_a_error.png,
	src/html/src/img/style/window_dec_a.png,
	src/html/src/img/style/window_dec_b_error.png,
	src/html/src/img/style/window_dec_b.png,
	src/html/src/img/style/window_dec_c_error.png,
	src/html/src/img/style/window_dec_c.png: New.

	* src/validator.h: New.

	* src/CMakeLists.txt: Add module validator, fix sequence of modules,
	make libs static, remove cmake minimum requirement.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt: Upgraded from 0.7.3.SVN to 0.7.4.SVN.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/configure_scanconfigs.htm4,
	src/html/src/help/configure_credentials.htm4,
	src/html/src/help/configure_users.htm4: New. More documentation.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/CMakeLists.txt: Changed - to _ in module names.

	* src/gsad_oap.h: Fixed filename in doc.

	* src/gsad_base.h: Fixed filename in doc. Added missing proto.

2009-10-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_base.c: New.

	* src/CMakeLists.txt: Added handling of module gsad_base.

2009-10-25  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad_oap.h: Renamed to src/gsad_oap.h.

2009-10-25  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad-base.h: Renamed to src/gsad_base.h.

	* src/gsad-oap.h: Adjusted include name accordingly.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (print_header, send_response, send_redirect_header): New.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION, CMakeLists.txt: Increased from 0.7.2.SVN to 0.7.3.SVN.

	* src/gsad_log_conf.cmake_in: Added "level".

	* src/CMakeLists.txt: Better handling of compile flags.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (main): Apply DEBUG flag for MHD.
	(request_handler): Fix typo.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (request_handler): Fix call of gsad_newtask,
	use g_strconcat.
	(gsad_init): Init glib.
	(main): Adjust logging to avoid recursion.

2009-10-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (send_http_authenticate_header): New.

2009-10-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_cleanup, main): Factored out pidfile management.

2009-10-20  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (request_handler): New.

2009-10-15  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/p_bar_bg.png, src/html/src/img/p_bar_done.png,
	src/html/src/img/p_bar_error.png, src/html/src/img/p_bar_new.png,
	src/html/src/img/p_bar.png, src/html/src/img/p_bar_request.png,
	src/html/src/img/trend_down.png, src/html/src/img/trend_less.png,
	src/html/src/img/trend_more.png, src/html/src/img/trend_nochange.png,
	src/html/src/img/trend_up.png: New.

2009-10-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (gsad_init): New.

2009-10-14  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad.c (main): omp_init splits into omp_init and oap_init.
	(gsad_cleanup): New.

2009-10-13  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/gsad-oap.h: New.

	* src/gsad-base.h: New.

	* src/tracef.h: New.

	* src/CMakeLists.txt: Handle modules gsad-omp and gsad-oap.

2009-10-12  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* VERSION: New.

	* src/gsad_log_conf.cmake_in: New.

	* src/CMakeLists.txt: New.

	* src/html/src/img/rpm.png, src/html/src/img/exe.png,
	src/html/src/img/key.png, src/html/src/img/deb.png: New.

	* gsad.c: New.

2009-10-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/new.png: New.

2009-10-01  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/configure_targets.htm4,
	src/html/src/help/new_task.htm4: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/img/start.png, src/html/src/img/refresh.png,
	src/html/src/img/start_inactive.png, src/html/src/img/delete.png,
	src/html/src/img/delete_inactive.png, src/html/src/img/details.png,
	src/html/src/img/stop.png, src/html/src/img/stop_inactive.png,
	src/html/src/img/help.png: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/help/, src/html/src/login/, src/html/src/img/,
	src/html/src/favicon.gif: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* src/html/src/: New.

2009-09-30  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* CMakeLists.txt: New.

	* src/html/: New.

2009-09-28  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* INSTALL: New.

	* README: New.

2009-09-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* COPYING: New. The GNU GPLv2.

	* src/: New.

2009-09-22  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Starting package "gsa" (Greenbone Security Assistant)
